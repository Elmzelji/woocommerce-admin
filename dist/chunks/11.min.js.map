{"version":3,"sources":["webpack://wc.[modulename]/./client/inbox-panel/action.js","webpack://wc.[modulename]/./client/inbox-panel/card.js","webpack://wc.[modulename]/./client/inbox-panel/index.js","webpack://wc.[modulename]/./client/inbox-panel/placeholder.js","webpack://wc.[modulename]/./client/lib/sanitize-html/index.js","webpack://wc.[modulename]/./client/utils/index.js"],"names":["InboxNoteAction","props","state","inAction","handleActionClick","bind","event","action","actionCallback","batchUpdateNotes","createNotice","noteId","triggerNoteAction","removeAllNotes","removeNote","onClick","updateNote","href","target","length","startsWith","adminUrl","preventDefault","window","open","then","__","actions","label","is_deleted","catch","notes","map","note","id","setState","dismiss","url","undefined","Component","propTypes","PropTypes","number","string","bool","func","shape","isRequired","primary","compose","withDispatch","dispatch","NOTES_STORE_NAME","InboxNoteCard","actioned_text","clickedActionText","onVisible","hasBeenSeen","isDismissModalOpen","dismissType","openDismissModal","closeDismissModal","bodyNotificationRef","createRef","screen","getScreenName","current","addEventListener","handleBodyClick","removeEventListener","innerLink","recordEvent","note_name","name","note_title","title","note_content_inner_link","isVisible","note_content","content","note_type","type","onToggle","noteNameDismissConfirmation","noteNameDismissAll","note_name_dismiss_all","note_name_dismiss_confirmation","onClose","dropdownClasses","relatedTarget","document","activeElement","isClickOutsideDropdown","some","className","includes","handleBlur","noArrow","getDismissConfirmationButton","noteActions","index","onActionClicked","lastRead","dateCreated","date_created","dateCreatedGmt","date_created_gmt","image","isDeleted","layout","status","unread","Date","getTime","date","hasImage","cardClassName","classnames","moment","utc","fromNow","sanitizeHTML","renderActions","renderDismissButton","renderDismissConfirmationModal","arrayOf","renderEmptyCard","renderNotes","hasNotes","isBatchUpdating","notesArray","Object","keys","key","InboxPanel","isError","isResolving","useUserPreferences","updateUserPreferences","userPrefs","activity_panel_inbox_last_read","useEffect","mountTime","now","userDataFields","actionLabel","location","reload","hasValidNotes","withSelect","select","getNotes","getNotesError","isNotesRequesting","inboxQuery","page","per_page","QUERY_DEFAULTS","pageSize","noteTypes","orderby","order","_fields","Boolean","InboxNotePlaceholder","ALLOWED_TAGS","ALLOWED_ATTR","html","__html","sanitize","getUrlParams","locationSearch","substr","split","reduce","params","query","chunks","value","decodeURIComponent","isNaN","Number","screenName","search","path","postType","post_type","currentPage","replace","substring"],"mappings":"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","file":"chunks/11.min.js","sourcesContent":["/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withDispatch } from '@wordpress/data';\nimport PropTypes from 'prop-types';\nimport { ADMIN_URL as adminUrl } from '@woocommerce/wc-admin-settings';\nimport { NOTES_STORE_NAME } from '@woocommerce/data';\n\nclass InboxNoteAction extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\tinAction: false,\n\t\t};\n\n\t\tthis.handleActionClick = this.handleActionClick.bind( this );\n\t}\n\n\thandleActionClick( event ) {\n\t\tconst {\n\t\t\taction,\n\t\t\tactionCallback,\n\t\t\tbatchUpdateNotes,\n\t\t\tcreateNotice,\n\t\t\tnoteId,\n\t\t\ttriggerNoteAction,\n\t\t\tremoveAllNotes,\n\t\t\tremoveNote,\n\t\t\tonClick,\n\t\t\tupdateNote,\n\t\t} = this.props;\n\t\tconst href = event.target.href || '';\n\t\tlet inAction = true;\n\n\t\tif ( href.length && ! href.startsWith( adminUrl ) ) {\n\t\t\tevent.preventDefault();\n\t\t\tinAction = false; // link buttons shouldn't be \"busy\".\n\t\t\twindow.open( href, '_blank' );\n\t\t}\n\n\t\tif ( ! action ) {\n\t\t\tif ( noteId ) {\n\t\t\t\tremoveNote( noteId )\n\t\t\t\t\t.then( () => {\n\t\t\t\t\t\tcreateNotice(\n\t\t\t\t\t\t\t'success',\n\t\t\t\t\t\t\t__( 'Message dismissed.', 'woocommerce-admin' ),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\t\t'Undo',\n\t\t\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\t\tupdateNote( noteId, {\n\t\t\t\t\t\t\t\t\t\t\t\tis_deleted: 0,\n\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t} )\n\t\t\t\t\t.catch( () => {\n\t\t\t\t\t\tcreateNotice(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'Message could not be dismissed.',\n\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tremoveAllNotes()\n\t\t\t\t\t.then( ( notes ) => {\n\t\t\t\t\t\tcreateNotice(\n\t\t\t\t\t\t\t'success',\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'All messages dismissed.',\n\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\t\t'Undo',\n\t\t\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\t\tbatchUpdateNotes(\n\t\t\t\t\t\t\t\t\t\t\t\tnotes.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t( note ) => note.id\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tis_deleted: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t} )\n\t\t\t\t\t.catch( () => {\n\t\t\t\t\t\tcreateNotice(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'Message could not be dismissed.',\n\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} );\n\t\t\t}\n\n\t\t\tactionCallback( true );\n\t\t} else {\n\t\t\tthis.setState( { inAction }, () => {\n\t\t\t\ttriggerNoteAction( noteId, action.id );\n\n\t\t\t\tif ( !! onClick ) {\n\t\t\t\t\tonClick();\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { action, dismiss, label } = this.props;\n\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tisSecondary\n\t\t\t\tisBusy={ this.state.inAction }\n\t\t\t\tdisabled={ this.state.inAction }\n\t\t\t\thref={\n\t\t\t\t\taction && action.url && action.url.length\n\t\t\t\t\t\t? action.url\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tonClick={ this.handleActionClick }\n\t\t\t>\n\t\t\t\t{ dismiss ? label : action.label }\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nInboxNoteAction.propTypes = {\n\tnoteId: PropTypes.number,\n\tlabel: PropTypes.string,\n\tdismiss: PropTypes.bool,\n\tactionCallback: PropTypes.func,\n\taction: PropTypes.shape( {\n\t\tid: PropTypes.number.isRequired,\n\t\turl: PropTypes.string,\n\t\tlabel: PropTypes.string.isRequired,\n\t\tprimary: PropTypes.bool.isRequired,\n\t} ),\n\tonClick: PropTypes.func,\n};\n\nexport default compose(\n\twithDispatch( ( dispatch ) => {\n\t\tconst { createNotice } = dispatch( 'core/notices' );\n\t\tconst {\n\t\t\tbatchUpdateNotes,\n\t\t\tremoveAllNotes,\n\t\t\tremoveNote,\n\t\t\tupdateNote,\n\t\t\ttriggerNoteAction,\n\t\t} = dispatch( NOTES_STORE_NAME );\n\n\t\treturn {\n\t\t\tbatchUpdateNotes,\n\t\t\tcreateNotice,\n\t\t\tremoveAllNotes,\n\t\t\tremoveNote,\n\t\t\ttriggerNoteAction,\n\t\t\tupdateNote,\n\t\t};\n\t} )\n)( InboxNoteAction );\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, createRef, Fragment } from '@wordpress/element';\nimport { Button, Dropdown, Modal } from '@wordpress/components';\nimport PropTypes from 'prop-types';\nimport VisibilitySensor from 'react-visibility-sensor';\nimport moment from 'moment';\nimport classnames from 'classnames';\nimport { H, Section } from '@woocommerce/components';\nimport { recordEvent } from '@woocommerce/tracks';\n\n/**\n * Internal dependencies\n */\nimport NoteAction from './action';\nimport sanitizeHTML from '../lib/sanitize-html';\nimport './style.scss';\nimport { getScreenName } from '../utils';\n\nclass InboxNoteCard extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.onVisible = this.onVisible.bind( this );\n\t\tthis.hasBeenSeen = false;\n\t\tthis.state = {\n\t\t\tisDismissModalOpen: false,\n\t\t\tdismissType: null,\n\t\t\tclickedActionText: null,\n\t\t};\n\t\tthis.openDismissModal = this.openDismissModal.bind( this );\n\t\tthis.closeDismissModal = this.closeDismissModal.bind( this );\n\t\tthis.bodyNotificationRef = createRef();\n\t\tthis.screen = getScreenName();\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( this.bodyNotificationRef.current ) {\n\t\t\tthis.bodyNotificationRef.current.addEventListener(\n\t\t\t\t'click',\n\t\t\t\t( event ) => this.handleBodyClick( event, this.props )\n\t\t\t);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif ( this.bodyNotificationRef.current ) {\n\t\t\tthis.bodyNotificationRef.current.removeEventListener(\n\t\t\t\t'click',\n\t\t\t\t( event ) => this.handleBodyClick( event, this.props )\n\t\t\t);\n\t\t}\n\t}\n\n\thandleBodyClick( event, props ) {\n\t\tconst innerLink = event.target.href;\n\t\tif ( innerLink ) {\n\t\t\tconst { note } = props;\n\n\t\t\trecordEvent( 'wcadmin_inbox_action_click', {\n\t\t\t\tnote_name: note.name,\n\t\t\t\tnote_title: note.title,\n\t\t\t\tnote_content_inner_link: innerLink,\n\t\t\t} );\n\t\t}\n\t}\n\n\t// Trigger a view Tracks event when the note is seen.\n\tonVisible( isVisible ) {\n\t\tif ( isVisible && ! this.hasBeenSeen ) {\n\t\t\tconst { note } = this.props;\n\n\t\t\trecordEvent( 'inbox_note_view', {\n\t\t\t\tnote_content: note.content,\n\t\t\t\tnote_name: note.name,\n\t\t\t\tnote_title: note.title,\n\t\t\t\tnote_type: note.type,\n\t\t\t\tscreen: this.screen,\n\t\t\t} );\n\n\t\t\tthis.hasBeenSeen = true;\n\t\t}\n\t}\n\n\topenDismissModal( type, onToggle ) {\n\t\tthis.setState( {\n\t\t\tisDismissModalOpen: true,\n\t\t\tdismissType: type,\n\t\t} );\n\t\tonToggle();\n\t}\n\n\tcloseDismissModal( noteNameDismissConfirmation ) {\n\t\tconst { dismissType } = this.state;\n\t\tconst { note } = this.props;\n\t\tconst noteNameDismissAll = dismissType === 'all' ? true : false;\n\n\t\trecordEvent( 'inbox_action_dismiss', {\n\t\t\tnote_name: note.name,\n\t\t\tnote_title: note.title,\n\t\t\tnote_name_dismiss_all: noteNameDismissAll,\n\t\t\tnote_name_dismiss_confirmation:\n\t\t\t\tnoteNameDismissConfirmation || false,\n\t\t\tscreen: this.screen,\n\t\t} );\n\n\t\tthis.setState( {\n\t\t\tisDismissModalOpen: false,\n\t\t} );\n\t}\n\n\thandleBlur( event, onClose ) {\n\t\tconst dropdownClasses = [\n\t\t\t'woocommerce-admin-dismiss-notification',\n\t\t\t'components-popover__content',\n\t\t];\n\t\t// This line is for IE compatibility.\n\t\tconst relatedTarget = event.relatedTarget\n\t\t\t? event.relatedTarget\n\t\t\t: document.activeElement;\n\t\tconst isClickOutsideDropdown = relatedTarget\n\t\t\t? dropdownClasses.some( ( className ) =>\n\t\t\t\t\trelatedTarget.className.includes( className )\n\t\t\t  )\n\t\t\t: false;\n\t\tif ( isClickOutsideDropdown ) {\n\t\t\tevent.preventDefault();\n\t\t} else {\n\t\t\tonClose();\n\t\t}\n\t}\n\n\trenderDismissButton() {\n\t\tconst { clickedActionText } = this.state;\n\n\t\tif ( clickedActionText ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t\tcontentClassName=\"woocommerce-admin-dismiss-dropdown\"\n\t\t\t\tposition=\"bottom right\"\n\t\t\t\trenderToggle={ ( { onClose, onToggle } ) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\tonBlur={ ( event ) =>\n\t\t\t\t\t\t\tthis.handleBlur( event, onClose )\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Dismiss', 'woocommerce-admin' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\tfocusOnMount={ false }\n\t\t\t\tpopoverProps={ { noArrow: true } }\n\t\t\t\trenderContent={ ( { onToggle } ) => (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"woocommerce-admin-dismiss-notification\"\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\tthis.openDismissModal( 'this', onToggle )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Dismiss this message',\n\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"woocommerce-admin-dismiss-notification\"\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\tthis.openDismissModal( 'all', onToggle )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Dismiss all messages',\n\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t) }\n\t\t\t/>\n\t\t);\n\t}\n\n\tgetDismissConfirmationButton() {\n\t\tconst { note } = this.props;\n\t\tconst { dismissType } = this.state;\n\t\treturn (\n\t\t\t<NoteAction\n\t\t\t\tkey={ note.id }\n\t\t\t\tnoteId={ dismissType === 'all' ? null : note.id }\n\t\t\t\tlabel={ __( \"Yes, I'm sure\", 'woocommerce-admin' ) }\n\t\t\t\tactionCallback={ this.closeDismissModal }\n\t\t\t\tdismiss={ true }\n\t\t\t\tscreen={ this.screen }\n\t\t\t/>\n\t\t);\n\t}\n\n\trenderDismissConfirmationModal() {\n\t\treturn (\n\t\t\t<Modal\n\t\t\t\ttitle={\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{ __( 'Are you sure?', 'woocommerce-admin' ) }\n\t\t\t\t\t</Fragment>\n\t\t\t\t}\n\t\t\t\tonRequestClose={ () => this.closeDismissModal() }\n\t\t\t\tclassName=\"woocommerce-inbox-dismiss-confirmation_modal\"\n\t\t\t>\n\t\t\t\t<div className=\"woocommerce-inbox-dismiss-confirmation_wrapper\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Dismissed messages cannot be viewed again',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"woocommerce-inbox-dismiss-confirmation_buttons\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\tonClick={ () => this.closeDismissModal() }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel', 'woocommerce-admin' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{ this.getDismissConfirmationButton() }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t);\n\t}\n\n\trenderActions( note ) {\n\t\tconst { actions: noteActions, id: noteId } = note;\n\t\tconst { clickedActionText } = this.state;\n\n\t\tif ( !! clickedActionText ) {\n\t\t\treturn clickedActionText;\n\t\t}\n\n\t\tif ( ! noteActions ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{ noteActions.map( ( action, index ) => (\n\t\t\t\t\t<NoteAction\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\tnoteId={ noteId }\n\t\t\t\t\t\taction={ action }\n\t\t\t\t\t\tonClick={ () => this.onActionClicked( action ) }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\tonActionClicked = ( action ) => {\n\t\tif ( ! action.actioned_text ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tclickedActionText: action.actioned_text,\n\t\t} );\n\t};\n\n\trender() {\n\t\tconst { lastRead, note } = this.props;\n\t\tconst { isDismissModalOpen } = this.state;\n\t\tconst {\n\t\t\tcontent,\n\t\t\tdate_created: dateCreated,\n\t\t\tdate_created_gmt: dateCreatedGmt,\n\t\t\timage,\n\t\t\tis_deleted: isDeleted,\n\t\t\tlayout,\n\t\t\tstatus,\n\t\t\ttitle,\n\t\t} = note;\n\n\t\tif ( isDeleted ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst unread =\n\t\t\t! lastRead ||\n\t\t\t! dateCreatedGmt ||\n\t\t\tnew Date( dateCreatedGmt + 'Z' ).getTime() > lastRead;\n\t\tconst date = dateCreated;\n\t\tconst hasImage = layout !== 'plain' && layout !== '';\n\t\tconst cardClassName = classnames( 'woocommerce-inbox-message', layout, {\n\t\t\t'message-is-unread': unread && status === 'unactioned',\n\t\t} );\n\n\t\treturn (\n\t\t\t<VisibilitySensor onChange={ this.onVisible }>\n\t\t\t\t<section className={ cardClassName }>\n\t\t\t\t\t{ hasImage && (\n\t\t\t\t\t\t<div className=\"woocommerce-inbox-message__image\">\n\t\t\t\t\t\t\t<img src={ image } alt=\"\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t<div className=\"woocommerce-inbox-message__wrapper\">\n\t\t\t\t\t\t<div className=\"woocommerce-inbox-message__content\">\n\t\t\t\t\t\t\t{ date && (\n\t\t\t\t\t\t\t\t<span className=\"woocommerce-inbox-message__date\">\n\t\t\t\t\t\t\t\t\t{ moment.utc( date ).fromNow() }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<H className=\"woocommerce-inbox-message__title\">\n\t\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t</H>\n\t\t\t\t\t\t\t<Section className=\"woocommerce-inbox-message__text\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={ sanitizeHTML(\n\t\t\t\t\t\t\t\t\t\tcontent\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tref={ this.bodyNotificationRef }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Section>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"woocommerce-inbox-message__actions\">\n\t\t\t\t\t\t\t{ this.renderActions( note ) }\n\t\t\t\t\t\t\t{ this.renderDismissButton() }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ isDismissModalOpen &&\n\t\t\t\t\t\tthis.renderDismissConfirmationModal() }\n\t\t\t\t</section>\n\t\t\t</VisibilitySensor>\n\t\t);\n\t}\n}\n\nInboxNoteCard.propTypes = {\n\tnote: PropTypes.shape( {\n\t\tid: PropTypes.number,\n\t\tstatus: PropTypes.string,\n\t\ttitle: PropTypes.string,\n\t\tcontent: PropTypes.string,\n\t\tdate_created: PropTypes.string,\n\t\tdate_created_gmt: PropTypes.string,\n\t\tactions: PropTypes.arrayOf(\n\t\t\tPropTypes.shape( {\n\t\t\t\tid: PropTypes.number.isRequired,\n\t\t\t\turl: PropTypes.string,\n\t\t\t\tlabel: PropTypes.string.isRequired,\n\t\t\t\tprimary: PropTypes.bool.isRequired,\n\t\t\t} )\n\t\t),\n\t\tlayout: PropTypes.string,\n\t\timage: PropTypes.string,\n\t\tis_deleted: PropTypes.bool,\n\t} ),\n\tlastRead: PropTypes.number,\n};\n\nexport default InboxNoteCard;\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { EmptyContent, Section } from '@woocommerce/components';\nimport {\n\tNOTES_STORE_NAME,\n\tuseUserPreferences,\n\tQUERY_DEFAULTS,\n} from '@woocommerce/data';\nimport { withSelect } from '@wordpress/data';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\n\n/**\n * Internal dependencies\n */\nimport { ActivityCard } from '../header/activity-panel/activity-card';\nimport InboxNotePlaceholder from './placeholder';\nimport InboxNoteCard from './card';\nimport { hasValidNotes } from './utils';\n\nconst renderEmptyCard = () => (\n\t<ActivityCard\n\t\tclassName=\"woocommerce-empty-activity-card\"\n\t\ttitle={ __( 'Your inbox is empty', 'woocommerce-admin' ) }\n\t\ticon={ false }\n\t>\n\t\t{ __(\n\t\t\t'As things begin to happen in your store your inbox will start to fill up. ' +\n\t\t\t\t\"You'll see things like achievements, new feature announcements, extension recommendations and more!\",\n\t\t\t'woocommerce-admin'\n\t\t) }\n\t</ActivityCard>\n);\n\nconst renderNotes = ( { hasNotes, isBatchUpdating, lastRead, notes } ) => {\n\tif ( isBatchUpdating ) {\n\t\treturn;\n\t}\n\n\tif ( ! hasNotes ) {\n\t\treturn renderEmptyCard();\n\t}\n\n\tconst notesArray = Object.keys( notes ).map( ( key ) => notes[ key ] );\n\n\treturn (\n\t\t<TransitionGroup role=\"menu\">\n\t\t\t{ notesArray.map( ( note ) => {\n\t\t\t\tconst { id: noteId, is_deleted: isDeleted } = note;\n\t\t\t\tif ( isDeleted ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<CSSTransition\n\t\t\t\t\t\tkey={ noteId }\n\t\t\t\t\t\ttimeout={ 500 }\n\t\t\t\t\t\tclassNames=\"woocommerce-inbox-message\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<InboxNoteCard\n\t\t\t\t\t\t\tkey={ noteId }\n\t\t\t\t\t\t\tnote={ note }\n\t\t\t\t\t\t\tlastRead={ lastRead }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</CSSTransition>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</TransitionGroup>\n\t);\n};\n\nconst InboxPanel = ( props ) => {\n\tconst { isError, isResolving, isBatchUpdating, notes } = props;\n\tconst { updateUserPreferences, ...userPrefs } = useUserPreferences();\n\tconst lastRead = userPrefs.activity_panel_inbox_last_read;\n\n\tuseEffect( () => {\n\t\tconst mountTime = Date.now();\n\n\t\treturn () => {\n\t\t\tconst userDataFields = {\n\t\t\t\tactivity_panel_inbox_last_read: mountTime,\n\t\t\t};\n\t\t\tupdateUserPreferences( userDataFields );\n\t\t};\n\t}, [] );\n\n\tif ( isError ) {\n\t\tconst title = __(\n\t\t\t'There was an error getting your inbox. Please try again.',\n\t\t\t'woocommerce-admin'\n\t\t);\n\t\tconst actionLabel = __( 'Reload', 'woocommerce-admin' );\n\t\tconst actionCallback = () => {\n\t\t\t// @todo Add tracking for how often an error is displayed, and the reload action is clicked.\n\t\t\twindow.location.reload();\n\t\t};\n\n\t\treturn (\n\t\t\t<EmptyContent\n\t\t\t\ttitle={ title }\n\t\t\t\tactionLabel={ actionLabel }\n\t\t\t\tactionURL={ null }\n\t\t\t\tactionCallback={ actionCallback }\n\t\t\t/>\n\t\t);\n\t}\n\n\tconst hasNotes = hasValidNotes( notes );\n\n\t// @todo After having a pagination implemented we should call the method \"getNotes\" with a different query since\n\t// the current one is only getting 25 notes and the count of unread notes only will refer to this 25 and not all the existing ones.\n\treturn (\n\t\t<>\n\t\t\t<div className=\"woocommerce-homepage-notes-wrapper\">\n\t\t\t\t{ ( isResolving || isBatchUpdating ) && (\n\t\t\t\t\t<Section>\n\t\t\t\t\t\t<InboxNotePlaceholder className=\"banner message-is-unread\" />\n\t\t\t\t\t</Section>\n\t\t\t\t) }\n\t\t\t\t<Section>\n\t\t\t\t\t{ ! isResolving &&\n\t\t\t\t\t\t! isBatchUpdating &&\n\t\t\t\t\t\trenderNotes( {\n\t\t\t\t\t\t\thasNotes,\n\t\t\t\t\t\t\tisBatchUpdating,\n\t\t\t\t\t\t\tlastRead,\n\t\t\t\t\t\t\tnotes,\n\t\t\t\t\t\t} ) }\n\t\t\t\t</Section>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetNotes,\n\t\t\tgetNotesError,\n\t\t\tisResolving,\n\t\t\tisNotesRequesting,\n\t\t} = select( NOTES_STORE_NAME );\n\t\tconst inboxQuery = {\n\t\t\tpage: 1,\n\t\t\tper_page: QUERY_DEFAULTS.pageSize,\n\t\t\tstatus: 'unactioned',\n\t\t\ttype: QUERY_DEFAULTS.noteTypes,\n\t\t\torderby: 'date',\n\t\t\torder: 'desc',\n\t\t\t_fields: [\n\t\t\t\t'id',\n\t\t\t\t'name',\n\t\t\t\t'title',\n\t\t\t\t'content',\n\t\t\t\t'type',\n\t\t\t\t'status',\n\t\t\t\t'actions',\n\t\t\t\t'date_created',\n\t\t\t\t'date_created_gmt',\n\t\t\t\t'layout',\n\t\t\t\t'image',\n\t\t\t\t'is_deleted',\n\t\t\t],\n\t\t};\n\n\t\treturn {\n\t\t\tnotes: getNotes( inboxQuery ),\n\t\t\tisError: Boolean( getNotesError( 'getNotes', [ inboxQuery ] ) ),\n\t\t\tisResolving: isResolving( 'getNotes', [ inboxQuery ] ),\n\t\t\tisBatchUpdating: isNotesRequesting( 'batchUpdateNotes' ),\n\t\t};\n\t} )\n)( InboxPanel );\n","/**\n * External dependencies\n */\nimport { Component } from '@wordpress/element';\nimport PropTypes from 'prop-types';\n\nclass InboxNotePlaceholder extends Component {\n\trender() {\n\t\tconst { className } = this.props;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={ `woocommerce-inbox-message is-placeholder ${ className }` }\n\t\t\t\taria-hidden\n\t\t\t>\n\t\t\t\t<div className=\"woocommerce-inbox-message__image\">\n\t\t\t\t\t<div className=\"banner-block\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"woocommerce-inbox-message__wrapper\">\n\t\t\t\t\t<div className=\"woocommerce-inbox-message__content\">\n\t\t\t\t\t\t<div className=\"woocommerce-inbox-message__date\">\n\t\t\t\t\t\t\t<div className=\"sixth-line\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"woocommerce-inbox-message__title\">\n\t\t\t\t\t\t\t<div className=\"line\" />\n\t\t\t\t\t\t\t<div className=\"line\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"woocommerce-inbox-message__text\">\n\t\t\t\t\t\t\t<div className=\"line\" />\n\t\t\t\t\t\t\t<div className=\"third-line\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"woocommerce-inbox-message__actions\">\n\t\t\t\t\t\t<div className=\"fifth-line\" />\n\t\t\t\t\t\t<div className=\"fifth-line\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nInboxNotePlaceholder.propTypes = {\n\tclassName: PropTypes.string,\n};\n\nexport default InboxNotePlaceholder;\n","/**\n * External dependencies\n */\nimport { sanitize } from 'dompurify';\n\nexport const ALLOWED_TAGS = [ 'a', 'b', 'em', 'i', 'strong', 'p', 'br' ];\nexport const ALLOWED_ATTR = [ 'target', 'href', 'rel', 'name', 'download' ];\n\nexport default ( html ) => {\n\treturn {\n\t\t__html: sanitize( html, { ALLOWED_TAGS, ALLOWED_ATTR } ),\n\t};\n};\n","/**\n * Get the URL params.\n *\n * @param {string} locationSearch - Querystring part of a URL, including the question mark (?).\n * @return {Object} - URL params.\n */\nexport function getUrlParams( locationSearch ) {\n\tif ( locationSearch ) {\n\t\treturn locationSearch\n\t\t\t.substr( 1 )\n\t\t\t.split( '&' )\n\t\t\t.reduce( ( params, query ) => {\n\t\t\t\tconst chunks = query.split( '=' );\n\t\t\t\tconst key = chunks[ 0 ];\n\t\t\t\tlet value = decodeURIComponent( chunks[ 1 ] );\n\t\t\t\tvalue = isNaN( Number( value ) ) ? value : Number( value );\n\t\t\t\treturn ( params[ key ] = value ), params;\n\t\t\t}, {} );\n\t}\n\treturn {};\n}\n\n/**\n * Get the current screen name.\n *\n * @return {string} - Screen name.\n */\nexport function getScreenName() {\n\tlet screenName = '';\n\tconst { page, path, post_type: postType } = getUrlParams(\n\t\twindow.location.search\n\t);\n\tif ( page ) {\n\t\tconst currentPage = page === 'wc-admin' ? 'home_screen' : page;\n\t\tscreenName = path\n\t\t\t? path.replace( /\\//g, '_' ).substring( 1 )\n\t\t\t: currentPage;\n\t} else if ( postType ) {\n\t\tscreenName = postType;\n\t}\n\treturn screenName;\n}\n"],"sourceRoot":""}