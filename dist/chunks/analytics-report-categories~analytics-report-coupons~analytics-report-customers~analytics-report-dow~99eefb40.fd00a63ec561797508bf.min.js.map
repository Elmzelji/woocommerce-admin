{"version":3,"sources":["webpack://wc.[modulename]/./client/analytics/components/report-filters/index.js","webpack://wc.[modulename]/./client/analytics/components/report-table/download-icon.js","webpack://wc.[modulename]/./client/analytics/components/report-table/index.js","webpack://wc.[modulename]/./client/analytics/components/report-table/style.scss","webpack://wc.[modulename]/./client/analytics/components/report-table/utils.js"],"names":["ReportFilters","trackDateSelect","bind","trackFilterSelect","trackAdvancedFilterAction","data","report","props","recordEvent","omitBy","isUndefined","filter","action","key","snakeCaseData","Object","keys","reduce","result","property","snakeCase","value","match","advancedFilters","filters","path","query","showDatePicker","defaultDateRange","getDateParamsFromQuery","period","compare","before","after","getCurrentDates","primaryDate","primary","secondaryDate","secondary","dateQuery","Currency","context","LOCALE","siteLocale","isoDateFormat","Component","contextType","CurrencyContext","withSelect","select","SETTINGS_STORE_NAME","getSetting","woocommerce_default_date_range","propTypes","PropTypes","object","array","string","isRequired","bool","TABLE_FILTER","ReportTable","compareBy","selectedRows","getIdsFromQuery","state","onColumnsChange","onPageChange","onSort","scrollPointRef","createRef","trackTableSearch","onClickDownload","onCompare","onSearchChange","selectRow","selectAllRows","prevQuery","prevIds","currentIds","isEqual","sort","setState","shownColumns","toggledColumn","columnPrefsKey","endpoint","getHeadersContent","updateCurrentUserData","columns","map","header","hiddenColumns","column","includes","userDataFields","eventProps","status","newPage","source","current","scrollIntoView","tableElement","nextSibling","querySelector","focusableElements","focus","focusable","find","length","page","direction","onQueryChange","headers","hiddenKeys","visible","required","hiddenByDefault","getRowsContent","initiateReportExport","searchBy","tableData","title","params","assign","items","reportQuery","totalResults","downloadType","extended_info","search","downloadCSVFile","generateCSVFileName","generateCSVDataFromTable","rows","compareParam","join","values","baseSearchQuery","labels","v","label","replace","updateQueryString","undefined","uniq","checked","ids","i","index","indexOf","slice","isChecked","display","partial","hasData","isAllChecked","cellClassName","__","getSummary","isRequesting","primaryData","itemIdField","tableQuery","userPrefColumns","tableProps","isError","isLoading","totals","get","downloadable","searchWords","getSearchWords","searchedLabels","filteredTableProps","applyFilters","summary","row","getCheckbox","getAllCheckbox","filteredHeaders","filterShownHeaders","className","classnames","helpText","compareButton","placeholder","downloadButton","parseInt","per_page","QUERY_DEFAULTS","pageSize","extendItemsMethodNames","shape","getError","load","func","summaryFields","arrayOf","defaultProps","onSearch","noop","compose","getCurrentUserData","userData","chartEndpoint","getReportChartData","dataType","fields","queriedTableData","getReportTableData","extendedTableData","extendTableData","item","withDispatch","dispatch","itemsData","Array","isArray","getErrorMethod","isRequestingMethod","loadMethod","extendQuery","include","extendedItems","isExtendedItemsRequesting","isExtendedItemsError","extendedItemsData","extendedItemData","first","extendedItem","id"],"mappings":"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","file":"chunks/analytics-report-categories~analytics-report-coupons~analytics-report-customers~analytics-report-dow~99eefb40.fd00a63ec561797508bf.min.js","sourcesContent":["/**\n * External dependencies\n */\nimport { Component } from '@wordpress/element';\nimport PropTypes from 'prop-types';\nimport { omitBy, isUndefined, snakeCase } from 'lodash';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * WooCommerce dependencies\n */\nimport { ReportFilters as Filters } from '@woocommerce/components';\nimport { LOCALE } from '@woocommerce/wc-admin-settings';\nimport { SETTINGS_STORE_NAME } from '@woocommerce/data';\n\n/**\n * Internal dependencies\n */\nimport { recordEvent } from 'lib/tracks';\nimport {\n\tgetCurrentDates,\n\tgetDateParamsFromQuery,\n\tisoDateFormat,\n} from 'lib/date';\nimport { CurrencyContext } from 'lib/currency-context';\n\nclass ReportFilters extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.trackDateSelect = this.trackDateSelect.bind( this );\n\t\tthis.trackFilterSelect = this.trackFilterSelect.bind( this );\n\t\tthis.trackAdvancedFilterAction = this.trackAdvancedFilterAction.bind(\n\t\t\tthis\n\t\t);\n\t}\n\n\ttrackDateSelect( data ) {\n\t\tconst { report } = this.props;\n\t\trecordEvent( 'datepicker_update', {\n\t\t\treport,\n\t\t\t...omitBy( data, isUndefined ),\n\t\t} );\n\t}\n\n\ttrackFilterSelect( data ) {\n\t\tconst { report } = this.props;\n\t\trecordEvent( 'analytics_filter', {\n\t\t\treport,\n\t\t\tfilter: data.filter || 'all',\n\t\t} );\n\t}\n\n\ttrackAdvancedFilterAction( action, data ) {\n\t\tconst { report } = this.props;\n\n\t\tswitch ( action ) {\n\t\t\tcase 'add':\n\t\t\t\trecordEvent( 'analytics_filters_add', {\n\t\t\t\t\treport,\n\t\t\t\t\tfilter: data.key,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'remove':\n\t\t\t\trecordEvent( 'analytics_filters_remove', {\n\t\t\t\t\treport,\n\t\t\t\t\tfilter: data.key,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'filter':\n\t\t\t\tconst snakeCaseData = Object.keys( data ).reduce(\n\t\t\t\t\t( result, property ) => {\n\t\t\t\t\t\tresult[ snakeCase( property ) ] = data[ property ];\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t);\n\t\t\t\trecordEvent( 'analytics_filters_filter', {\n\t\t\t\t\treport,\n\t\t\t\t\tsnakeCaseData,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'clear_all':\n\t\t\t\trecordEvent( 'analytics_filters_clear_all', { report } );\n\t\t\t\tbreak;\n\t\t\tcase 'match':\n\t\t\t\trecordEvent( 'analytics_filters_all_any', {\n\t\t\t\t\treport,\n\t\t\t\t\tvalue: data.match,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tadvancedFilters,\n\t\t\tfilters,\n\t\t\tpath,\n\t\t\tquery,\n\t\t\tshowDatePicker,\n\t\t\tdefaultDateRange,\n\t\t} = this.props;\n\t\tconst { period, compare, before, after } = getDateParamsFromQuery(\n\t\t\tquery,\n\t\t\tdefaultDateRange\n\t\t);\n\t\tconst {\n\t\t\tprimary: primaryDate,\n\t\t\tsecondary: secondaryDate,\n\t\t} = getCurrentDates( query, defaultDateRange );\n\t\tconst dateQuery = {\n\t\t\tperiod,\n\t\t\tcompare,\n\t\t\tbefore,\n\t\t\tafter,\n\t\t\tprimaryDate,\n\t\t\tsecondaryDate,\n\t\t};\n\t\tconst Currency = this.context;\n\n\t\treturn (\n\t\t\t<Filters\n\t\t\t\tquery={ query }\n\t\t\t\tsiteLocale={ LOCALE.siteLocale }\n\t\t\t\tcurrency={ Currency }\n\t\t\t\tpath={ path }\n\t\t\t\tfilters={ filters }\n\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\tshowDatePicker={ showDatePicker }\n\t\t\t\tonDateSelect={ this.trackDateSelect }\n\t\t\t\tonFilterSelect={ this.trackFilterSelect }\n\t\t\t\tonAdvancedFilterAction={ this.trackAdvancedFilterAction }\n\t\t\t\tdateQuery={ dateQuery }\n\t\t\t\tisoDateFormat={ isoDateFormat }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nReportFilters.contextType = CurrencyContext;\n\nexport default withSelect( ( select ) => {\n\tconst { woocommerce_default_date_range: defaultDateRange } = select(\n\t\tSETTINGS_STORE_NAME\n\t).getSetting( 'wc_admin', 'wcAdminSettings' );\n\treturn { defaultDateRange };\n} )( ReportFilters );\n\nReportFilters.propTypes = {\n\t/**\n\t * Config option passed through to `AdvancedFilters`\n\t */\n\tadvancedFilters: PropTypes.object,\n\t/**\n\t * Config option passed through to `FilterPicker` - if not used, `FilterPicker` is not displayed.\n\t */\n\tfilters: PropTypes.array,\n\t/**\n\t * The `path` parameter supplied by React-Router\n\t */\n\tpath: PropTypes.string.isRequired,\n\t/**\n\t * The query string represented in object form\n\t */\n\tquery: PropTypes.object,\n\t/**\n\t * Whether the date picker must be shown..\n\t */\n\tshowDatePicker: PropTypes.bool,\n\t/**\n\t * The report where filter are placed.\n\t */\n\treport: PropTypes.string.isRequired,\n};\n","export default () => (\n\t<svg\n\t\trole=\"img\"\n\t\taria-hidden=\"true\"\n\t\tfocusable=\"false\"\n\t\tversion=\"1.1\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tx=\"0px\"\n\t\ty=\"0px\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<path\n\t\t\td=\"M18,9c-0.009,0-0.017,0.002-0.025,0.003C17.72,5.646,14.922,3,11.5,3C7.91,3,5,5.91,5,9.5c0,0.524,0.069,1.031,0.186,1.519\n\t\t\tC5.123,11.016,5.064,11,5,11c-2.209,0-4,1.791-4,4c0,1.202,0.541,2.267,1.38,3h18.593C22.196,17.089,23,15.643,23,14\n\t\t\tC23,11.239,20.761,9,18,9z M12,16l-4-5h3V8h2v3h3L12,16z\"\n\t\t/>\n\t</svg>\n);\n","/**\n * External dependencies\n */\nimport { CheckboxControl, IconButton } from '@wordpress/components';\nimport { applyFilters } from '@wordpress/hooks';\nimport { Component, createRef, Fragment } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { focus } from '@wordpress/dom';\nimport { withDispatch } from '@wordpress/data';\nimport { get, isEqual, noop, partial, uniq } from 'lodash';\nimport { __ } from '@wordpress/i18n';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\n\n/**\n * WooCommerce dependencies\n */\nimport { CompareButton, Search, TableCard } from '@woocommerce/components';\nimport DownloadIcon from './download-icon';\nimport {\n\tgetIdsFromQuery,\n\tgetSearchWords,\n\tonQueryChange,\n\tupdateQueryString,\n} from '@woocommerce/navigation';\nimport {\n\tdownloadCSVFile,\n\tgenerateCSVDataFromTable,\n\tgenerateCSVFileName,\n} from '@woocommerce/csv-export';\nimport { SETTINGS_STORE_NAME } from '@woocommerce/data';\n\n/**\n * Internal dependencies\n */\nimport ReportError from 'analytics/components/report-error';\nimport { getReportChartData, getReportTableData } from 'wc-api/reports/utils';\nimport { QUERY_DEFAULTS } from 'wc-api/constants';\nimport withSelect from 'wc-api/with-select';\nimport { extendTableData } from './utils';\nimport { recordEvent } from 'lib/tracks';\nimport './style.scss';\n\nconst TABLE_FILTER = 'woocommerce_admin_report_table';\n\n/**\n * Component that extends `TableCard` to facilitate its usage in reports.\n */\nclass ReportTable extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tconst { query, compareBy } = this.props;\n\t\tconst selectedRows = query.filter\n\t\t\t? getIdsFromQuery( query[ compareBy ] )\n\t\t\t: [];\n\t\tthis.state = { selectedRows };\n\n\t\tthis.onColumnsChange = this.onColumnsChange.bind( this );\n\t\tthis.onPageChange = this.onPageChange.bind( this );\n\t\tthis.onSort = this.onSort.bind( this );\n\t\tthis.scrollPointRef = createRef();\n\t\tthis.trackTableSearch = this.trackTableSearch.bind( this );\n\t\tthis.onClickDownload = this.onClickDownload.bind( this );\n\t\tthis.onCompare = this.onCompare.bind( this );\n\t\tthis.onSearchChange = this.onSearchChange.bind( this );\n\t\tthis.selectRow = this.selectRow.bind( this );\n\t\tthis.selectAllRows = this.selectAllRows.bind( this );\n\t}\n\n\tcomponentDidUpdate( { query: prevQuery } ) {\n\t\tconst { compareBy, query } = this.props;\n\n\t\tif ( query.filter || prevQuery.filter ) {\n\t\t\tconst prevIds = prevQuery.filter\n\t\t\t\t? getIdsFromQuery( prevQuery[ compareBy ] )\n\t\t\t\t: [];\n\t\t\tconst currentIds = query.filter\n\t\t\t\t? getIdsFromQuery( query[ compareBy ] )\n\t\t\t\t: [];\n\t\t\tif ( ! isEqual( prevIds.sort(), currentIds.sort() ) ) {\n\t\t\t\t/* eslint-disable react/no-did-update-set-state */\n\t\t\t\tthis.setState( {\n\t\t\t\t\tselectedRows: currentIds,\n\t\t\t\t} );\n\t\t\t\t/* eslint-enable react/no-did-update-set-state */\n\t\t\t}\n\t\t}\n\t}\n\n\tonColumnsChange( shownColumns, toggledColumn ) {\n\t\tconst {\n\t\t\tcolumnPrefsKey,\n\t\t\tendpoint,\n\t\t\tgetHeadersContent,\n\t\t\tupdateCurrentUserData,\n\t\t} = this.props;\n\t\tconst columns = getHeadersContent().map( ( header ) => header.key );\n\t\tconst hiddenColumns = columns.filter(\n\t\t\t( column ) => ! shownColumns.includes( column )\n\t\t);\n\n\t\tif ( columnPrefsKey ) {\n\t\t\tconst userDataFields = {\n\t\t\t\t[ columnPrefsKey ]: hiddenColumns,\n\t\t\t};\n\t\t\tupdateCurrentUserData( userDataFields );\n\t\t}\n\n\t\tif ( toggledColumn ) {\n\t\t\tconst eventProps = {\n\t\t\t\treport: endpoint,\n\t\t\t\tcolumn: toggledColumn,\n\t\t\t\tstatus: shownColumns.includes( toggledColumn ) ? 'on' : 'off',\n\t\t\t};\n\n\t\t\trecordEvent( 'analytics_table_header_toggle', eventProps );\n\t\t}\n\t}\n\n\tonPageChange( newPage, source ) {\n\t\tconst { endpoint } = this.props;\n\t\tthis.scrollPointRef.current.scrollIntoView();\n\t\tconst tableElement = this.scrollPointRef.current.nextSibling.querySelector(\n\t\t\t'.woocommerce-table__table'\n\t\t);\n\t\tconst focusableElements = focus.focusable.find( tableElement );\n\n\t\tif ( focusableElements.length ) {\n\t\t\tfocusableElements[ 0 ].focus();\n\t\t}\n\n\t\tif ( source ) {\n\t\t\tif ( source === 'goto' ) {\n\t\t\t\trecordEvent( 'analytics_table_go_to_page', {\n\t\t\t\t\treport: endpoint,\n\t\t\t\t\tpage: newPage,\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\trecordEvent( 'analytics_table_page_click', {\n\t\t\t\t\treport: endpoint,\n\t\t\t\t\tdirection: source,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\ttrackTableSearch() {\n\t\tconst { endpoint } = this.props;\n\n\t\t// @todo: decide if this should only fire for new tokens (not any/all changes).\n\t\trecordEvent( 'analytics_table_filter', { report: endpoint } );\n\t}\n\n\tonSort( key, direction ) {\n\t\tonQueryChange( 'sort' )( key, direction );\n\n\t\tconst { endpoint } = this.props;\n\t\tconst eventProps = {\n\t\t\treport: endpoint,\n\t\t\tcolumn: key,\n\t\t\tdirection,\n\t\t};\n\n\t\trecordEvent( 'analytics_table_sort', eventProps );\n\t}\n\n\tfilterShownHeaders( headers, hiddenKeys ) {\n\t\t// If no user preferences, set visibilty based on column default.\n\t\tif ( ! hiddenKeys ) {\n\t\t\treturn headers.map( ( header ) => ( {\n\t\t\t\t...header,\n\t\t\t\tvisible: header.required || ! header.hiddenByDefault,\n\t\t\t} ) );\n\t\t}\n\n\t\t// Set visibilty based on user preferences.\n\t\treturn headers.map( ( header ) => ( {\n\t\t\t...header,\n\t\t\tvisible: header.required || ! hiddenKeys.includes( header.key ),\n\t\t} ) );\n\t}\n\n\tonClickDownload() {\n\t\tconst {\n\t\t\tendpoint,\n\t\t\tgetHeadersContent,\n\t\t\tgetRowsContent,\n\t\t\tinitiateReportExport,\n\t\t\tquery,\n\t\t\tsearchBy,\n\t\t\ttableData,\n\t\t\ttitle,\n\t\t} = this.props;\n\t\tconst params = Object.assign( {}, query );\n\t\tconst { items, query: reportQuery } = tableData;\n\t\tconst { data, totalResults } = items;\n\t\tlet downloadType = 'browser';\n\n\t\t// Delete unnecessary items from filename.\n\t\tdelete params.extended_info;\n\t\tif ( params.search ) {\n\t\t\tdelete params[ searchBy ];\n\t\t}\n\n\t\tif ( data && data.length === totalResults ) {\n\t\t\tdownloadCSVFile(\n\t\t\t\tgenerateCSVFileName( title, params ),\n\t\t\t\tgenerateCSVDataFromTable(\n\t\t\t\t\tgetHeadersContent(),\n\t\t\t\t\tgetRowsContent( data )\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\tdownloadType = 'email';\n\t\t\tinitiateReportExport( endpoint, title, reportQuery );\n\t\t}\n\n\t\trecordEvent( 'analytics_table_download', {\n\t\t\treport: endpoint,\n\t\t\trows: totalResults,\n\t\t\tdownloadType,\n\t\t} );\n\t}\n\n\tonCompare() {\n\t\tconst { compareBy, compareParam } = this.props;\n\t\tconst { selectedRows } = this.state;\n\t\tif ( compareBy ) {\n\t\t\tonQueryChange( 'compare' )(\n\t\t\t\tcompareBy,\n\t\t\t\tcompareParam,\n\t\t\t\tselectedRows.join( ',' )\n\t\t\t);\n\t\t}\n\t}\n\n\tonSearchChange( values ) {\n\t\tconst { baseSearchQuery, compareParam, searchBy } = this.props;\n\t\t// A comma is used as a separator between search terms, so we want to escape\n\t\t// any comma they contain.\n\t\tconst labels = values.map( ( v ) => v.label.replace( ',', '%2C' ) );\n\t\tif ( labels.length ) {\n\t\t\tupdateQueryString( {\n\t\t\t\tfilter: undefined,\n\t\t\t\t[ compareParam ]: undefined,\n\t\t\t\t[ searchBy ]: undefined,\n\t\t\t\t...baseSearchQuery,\n\t\t\t\tsearch: uniq( labels ).join( ',' ),\n\t\t\t} );\n\t\t} else {\n\t\t\tupdateQueryString( {\n\t\t\t\tsearch: undefined,\n\t\t\t} );\n\t\t}\n\n\t\tthis.trackTableSearch();\n\t}\n\n\tselectAllRows( checked ) {\n\t\tconst { ids } = this.props;\n\t\tthis.setState( {\n\t\t\tselectedRows: checked ? ids : [],\n\t\t} );\n\t}\n\n\tselectRow( i, checked ) {\n\t\tconst { ids } = this.props;\n\t\tif ( checked ) {\n\t\t\tthis.setState( ( { selectedRows } ) => ( {\n\t\t\t\tselectedRows: uniq( [ ids[ i ], ...selectedRows ] ),\n\t\t\t} ) );\n\t\t} else {\n\t\t\tthis.setState( ( { selectedRows } ) => {\n\t\t\t\tconst index = selectedRows.indexOf( ids[ i ] );\n\t\t\t\treturn {\n\t\t\t\t\tselectedRows: [\n\t\t\t\t\t\t...selectedRows.slice( 0, index ),\n\t\t\t\t\t\t...selectedRows.slice( index + 1 ),\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t} );\n\t\t}\n\t}\n\n\tgetCheckbox( i ) {\n\t\tconst { ids = [] } = this.props;\n\t\tconst { selectedRows } = this.state;\n\t\tconst isChecked = selectedRows.indexOf( ids[ i ] ) !== -1;\n\t\treturn {\n\t\t\tdisplay: (\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tonChange={ partial( this.selectRow, i ) }\n\t\t\t\t\tchecked={ isChecked }\n\t\t\t\t/>\n\t\t\t),\n\t\t\tvalue: false,\n\t\t};\n\t}\n\n\tgetAllCheckbox() {\n\t\tconst { ids = [] } = this.props;\n\t\tconst { selectedRows } = this.state;\n\t\tconst hasData = ids.length > 0;\n\t\tconst isAllChecked = hasData && ids.length === selectedRows.length;\n\t\treturn {\n\t\t\tcellClassName: 'is-checkbox-column',\n\t\t\tkey: 'compare',\n\t\t\tlabel: (\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tonChange={ this.selectAllRows }\n\t\t\t\t\taria-label={ __( 'Select All' ) }\n\t\t\t\t\tchecked={ isAllChecked }\n\t\t\t\t\tdisabled={ ! hasData }\n\t\t\t\t/>\n\t\t\t),\n\t\t\trequired: true,\n\t\t};\n\t}\n\n\trender() {\n\t\tconst { selectedRows } = this.state;\n\t\tconst {\n\t\t\tgetHeadersContent,\n\t\t\tgetRowsContent,\n\t\t\tgetSummary,\n\t\t\tisRequesting,\n\t\t\tprimaryData,\n\t\t\ttableData,\n\t\t\tendpoint,\n\t\t\t// These props are not used in the render function, but are destructured\n\t\t\t// so they are not included in the `tableProps` variable.\n\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\titemIdField,\n\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\ttableQuery,\n\t\t\tuserPrefColumns,\n\t\t\tcompareBy,\n\t\t\tsearchBy,\n\t\t\tlabels = {},\n\t\t\t...tableProps\n\t\t} = this.props;\n\n\t\tconst { items, query } = tableData;\n\n\t\tconst isError = tableData.isError || primaryData.isError;\n\n\t\tif ( isError ) {\n\t\t\treturn <ReportError isError />;\n\t\t}\n\n\t\tconst isLoading =\n\t\t\tisRequesting || tableData.isRequesting || primaryData.isRequesting;\n\t\tconst totals = get( primaryData, [ 'data', 'totals' ], {} );\n\t\tconst totalResults = items.totalResults;\n\t\tconst downloadable = totalResults > 0;\n\t\t// Search words are in the query string, not the table query.\n\t\tconst searchWords = getSearchWords( this.props.query );\n\t\tconst searchedLabels = searchWords.map( ( v ) => ( {\n\t\t\tkey: v,\n\t\t\tlabel: v,\n\t\t} ) );\n\n\t\t/**\n\t\t * Filter report table.\n\t\t *\n\t\t * Enables manipulation of data used to create a report table.\n\t\t *\n\t\t * @param {Object} reportTableData - data used to create the table.\n\t\t * @param {string} reportTableData.endpoint - table api endpoint.\n\t\t * @param {Array} reportTableData.headers - table headers data.\n\t\t * @param {Array} reportTableData.rows - table rows data.\n\t\t * @param {Object} reportTableData.totals - total aggregates for request.\n\t\t * @param {Array} reportTableData.summary - summary numbers data.\n\t\t * @param {Object} reportTableData.items - response from api requerst.\n\t\t */\n\t\tconst filteredTableProps = applyFilters( TABLE_FILTER, {\n\t\t\tendpoint,\n\t\t\theaders: getHeadersContent(),\n\t\t\trows: getRowsContent( items.data ),\n\t\t\ttotals,\n\t\t\tsummary: getSummary ? getSummary( totals, totalResults ) : null,\n\t\t\titems,\n\t\t} );\n\t\tlet { headers, rows } = filteredTableProps;\n\t\tconst { summary } = filteredTableProps;\n\n\t\t// Add in selection for comparisons.\n\t\tif ( compareBy ) {\n\t\t\trows = rows.map( ( row, i ) => {\n\t\t\t\treturn [ this.getCheckbox( i ), ...row ];\n\t\t\t} );\n\t\t\theaders = [ this.getAllCheckbox(), ...headers ];\n\t\t}\n\n\t\t// Hide any headers based on user prefs, if loaded.\n\t\tconst filteredHeaders = this.filterShownHeaders( headers, userPrefColumns );\n\t\tconst className = classnames( 'woocommerce-report-table', {\n\t\t\t'has-compare': !! compareBy,\n\t\t\t'has-search': !! searchBy,\n\t\t} );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"woocommerce-report-table__scroll-point\"\n\t\t\t\t\tref={ this.scrollPointRef }\n\t\t\t\t\taria-hidden\n\t\t\t\t/>\n\t\t\t\t<TableCard\n\t\t\t\t\tclassName={ className }\n\t\t\t\t\tactions={ [\n\t\t\t\t\t\tcompareBy && (\n\t\t\t\t\t\t\t<CompareButton\n\t\t\t\t\t\t\t\tkey=\"compare\"\n\t\t\t\t\t\t\t\tclassName=\"woocommerce-table__compare\"\n\t\t\t\t\t\t\t\tcount={ selectedRows.length }\n\t\t\t\t\t\t\t\thelpText={\n\t\t\t\t\t\t\t\t\tlabels.helpText ||\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'Check at least two items below to compare',\n\t\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonClick={ this.onCompare }\n\t\t\t\t\t\t\t\tdisabled={ ! downloadable }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ labels.compareButton ||\n\t\t\t\t\t\t\t\t\t__( 'Compare', 'woocommerce-admin' ) }\n\t\t\t\t\t\t\t</CompareButton>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tsearchBy && (\n\t\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t\tallowFreeTextSearch={ true }\n\t\t\t\t\t\t\t\tinlineTags\n\t\t\t\t\t\t\t\tkey=\"search\"\n\t\t\t\t\t\t\t\tonChange={ this.onSearchChange }\n\t\t\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t\t\tlabels.placeholder ||\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'Search by item name',\n\t\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tselected={ searchedLabels }\n\t\t\t\t\t\t\t\tshowClearButton={ true }\n\t\t\t\t\t\t\t\ttype={ searchBy }\n\t\t\t\t\t\t\t\tdisabled={ ! downloadable }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tdownloadable && (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tkey=\"download\"\n\t\t\t\t\t\t\t\tclassName=\"woocommerce-table__download-button\"\n\t\t\t\t\t\t\t\tdisabled={ isLoading }\n\t\t\t\t\t\t\t\tonClick={ this.onClickDownload }\n\t\t\t\t\t\t\t\tisLink\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DownloadIcon />\n\t\t\t\t\t\t\t\t<span className=\"woocommerce-table__download-button__label\">\n\t\t\t\t\t\t\t\t\t{ labels.downloadButton ||\n\t\t\t\t\t\t\t\t\t\t__( 'Download', 'woocommerce-admin' ) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t),\n\t\t\t\t\t] }\n\t\t\t\t\theaders={ filteredHeaders }\n\t\t\t\t\tisLoading={ isLoading }\n\t\t\t\t\tonQueryChange={ onQueryChange }\n\t\t\t\t\tonColumnsChange={ this.onColumnsChange }\n\t\t\t\t\tonSort={ this.onSort }\n\t\t\t\t\tonPageChange={ this.onPageChange }\n\t\t\t\t\trows={ rows }\n\t\t\t\t\trowsPerPage={\n\t\t\t\t\t\tparseInt( query.per_page, 10 ) || QUERY_DEFAULTS.pageSize\n\t\t\t\t\t}\n\t\t\t\t\tsummary={ summary }\n\t\t\t\t\ttotalRows={ totalResults }\n\t\t\t\t\t{ ...tableProps }\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nReportTable.propTypes = {\n\t/**\n\t * Pass in query parameters to be included in the path when onSearch creates a new url.\n\t */\n\tbaseSearchQuery: PropTypes.object,\n\t/**\n\t * The string to use as a query parameter when comparing row items.\n\t */\n\tcompareBy: PropTypes.string,\n\t/**\n\t * Url query parameter compare function operates on\n\t */\n\tcompareParam: PropTypes.string,\n\t/**\n\t * The key for user preferences settings for column visibility.\n\t */\n\tcolumnPrefsKey: PropTypes.string,\n\t/**\n\t * The endpoint to use in API calls to populate the table rows and summary.\n\t * For example, if `taxes` is provided, data will be fetched from the report\n\t * `taxes` endpoint (ie: `/wc-analytics/reports/taxes` and `/wc/v4/reports/taxes/stats`).\n\t * If the provided endpoint doesn't exist, an error will be shown to the user\n\t * with `ReportError`.\n\t */\n\tendpoint: PropTypes.string,\n\t/**\n\t * Name of the methods available via `select( 'wc-api' )` that will be used to\n\t * load more data for table items. If omitted, no call will be made and only\n\t * the data returned by the reports endpoint will be used.\n\t */\n\textendItemsMethodNames: PropTypes.shape( {\n\t\tgetError: PropTypes.string,\n\t\tisRequesting: PropTypes.string,\n\t\tload: PropTypes.string,\n\t} ),\n\t/**\n\t * A function that returns the headers object to build the table.\n\t */\n\tgetHeadersContent: PropTypes.func.isRequired,\n\t/**\n\t * A function that returns the rows array to build the table.\n\t */\n\tgetRowsContent: PropTypes.func.isRequired,\n\t/**\n\t * A function that returns the summary object to build the table.\n\t */\n\tgetSummary: PropTypes.func,\n\t/**\n\t * The name of the property in the item object which contains the id.\n\t */\n\titemIdField: PropTypes.string,\n\t/**\n\t * Custom labels for table header actions.\n\t */\n\tlabels: PropTypes.shape( {\n\t\tcompareButton: PropTypes.string,\n\t\tdownloadButton: PropTypes.string,\n\t\thelpText: PropTypes.string,\n\t\tplaceholder: PropTypes.string,\n\t} ),\n\t/**\n\t * Primary data of that report. If it's not provided, it will be automatically\n\t * loaded via the provided `endpoint`.\n\t */\n\tprimaryData: PropTypes.object,\n\t/**\n\t * The string to use as a query parameter when searching row items.\n\t */\n\tsearchBy: PropTypes.string,\n\t/**\n\t * List of fields used for summary numbers. (Reduces queries)\n\t */\n\tsummaryFields: PropTypes.arrayOf( PropTypes.string ),\n\t/**\n\t * Table data of that report. If it's not provided, it will be automatically\n\t * loaded via the provided `endpoint`.\n\t */\n\ttableData: PropTypes.object.isRequired,\n\t/**\n\t * Properties to be added to the query sent to the report table endpoint.\n\t */\n\ttableQuery: PropTypes.object,\n\t/**\n\t * String to display as the title of the table.\n\t */\n\ttitle: PropTypes.string.isRequired,\n};\n\nReportTable.defaultProps = {\n\tprimaryData: {},\n\ttableData: {\n\t\titems: {\n\t\t\tdata: [],\n\t\t\ttotalResults: 0,\n\t\t},\n\t\tquery: {},\n\t},\n\ttableQuery: {},\n\tcompareParam: 'filter',\n\tdownloadable: false,\n\tonSearch: noop,\n\tbaseSearchQuery: {},\n};\n\nexport default compose(\n\twithSelect( ( select, props ) => {\n\t\tconst {\n\t\t\tendpoint,\n\t\t\tgetSummary,\n\t\t\tisRequesting,\n\t\t\titemIdField,\n\t\t\tquery,\n\t\t\ttableData,\n\t\t\ttableQuery,\n\t\t\tcolumnPrefsKey,\n\t\t\tfilters,\n\t\t\tadvancedFilters,\n\t\t\tsummaryFields,\n\t\t} = props;\n\n\t\tlet userPrefColumns = [];\n\t\tif ( columnPrefsKey ) {\n\t\t\tconst { getCurrentUserData } = select( 'wc-api' );\n\t\t\tconst userData = getCurrentUserData();\n\n\t\t\tuserPrefColumns =\n\t\t\t\tuserData && userData[ columnPrefsKey ]\n\t\t\t\t\t? userData[ columnPrefsKey ]\n\t\t\t\t\t: userPrefColumns;\n\t\t}\n\n\t\tif (\n\t\t\tisRequesting ||\n\t\t\t( query.search &&\n\t\t\t\t! ( query[ endpoint ] && query[ endpoint ].length ) )\n\t\t) {\n\t\t\treturn {\n\t\t\t\tuserPrefColumns,\n\t\t\t};\n\t\t}\n\t\tconst { woocommerce_default_date_range: defaultDateRange } = select(\n\t\t\tSETTINGS_STORE_NAME\n\t\t).getSetting( 'wc_admin', 'wcAdminSettings' );\n\n\t\t// Variations and Category charts are powered by the /reports/products/stats endpoint.\n\t\tconst chartEndpoint = [ 'variations', 'categories' ].includes(\n\t\t\tendpoint\n\t\t)\n\t\t\t? 'products'\n\t\t\t: endpoint;\n\t\tconst primaryData = getSummary\n\t\t\t? getReportChartData( {\n\t\t\t\t\tendpoint: chartEndpoint,\n\t\t\t\t\tdataType: 'primary',\n\t\t\t\t\tquery,\n\t\t\t\t\tselect,\n\t\t\t\t\tfilters,\n\t\t\t\t\tadvancedFilters,\n\t\t\t\t\ttableQuery,\n\t\t\t\t\tdefaultDateRange,\n\t\t\t\t\tfields: summaryFields,\n\t\t\t\t} )\n\t\t\t: {};\n\t\tconst queriedTableData =\n\t\t\ttableData ||\n\t\t\tgetReportTableData( {\n\t\t\t\tendpoint,\n\t\t\t\tquery,\n\t\t\t\tselect,\n\t\t\t\ttableQuery,\n\t\t\t\tfilters,\n\t\t\t\tadvancedFilters,\n\t\t\t\tdefaultDateRange,\n\t\t\t} );\n\t\tconst extendedTableData = extendTableData( select, props, queriedTableData );\n\n\t\treturn {\n\t\t\tprimaryData,\n\t\t\tids: itemIdField\n\t\t\t\t? extendedTableData.items.data.map(\n\t\t\t\t\t\t( item ) => item[ itemIdField ]\n\t\t\t\t  )\n\t\t\t\t: [],\n\t\t\ttableData: extendedTableData,\n\t\t\tquery: { ...tableQuery, ...query },\n\t\t\tuserPrefColumns,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { initiateReportExport, updateCurrentUserData } = dispatch(\n\t\t\t'wc-api'\n\t\t);\n\n\t\treturn {\n\t\t\tinitiateReportExport,\n\t\t\tupdateCurrentUserData,\n\t\t};\n\t} )\n)( ReportTable );\n","// extracted by mini-css-extract-plugin","/**\n * External dependencies\n */\nimport { first } from 'lodash';\n\nexport function extendTableData( select, props, queriedTableData ) {\n\tconst { extendItemsMethodNames, itemIdField } = props;\n\tconst itemsData = queriedTableData.items.data;\n\tif (\n\t\t! Array.isArray( itemsData ) ||\n\t\t! itemsData.length ||\n\t\t! extendItemsMethodNames ||\n\t\t! itemIdField\n\t) {\n\t\treturn queriedTableData;\n\t}\n\n\tconst {\n\t\t[ extendItemsMethodNames.getError ]: getErrorMethod,\n\t\t[ extendItemsMethodNames.isRequesting ]: isRequestingMethod,\n\t\t[ extendItemsMethodNames.load ]: loadMethod,\n\t} = select( 'wc-api' );\n\tconst extendQuery = {\n\t\tinclude: itemsData.map( ( item ) => item[ itemIdField ] ).join( ',' ),\n\t\tper_page: itemsData.length,\n\t};\n\tconst extendedItems = loadMethod( extendQuery );\n\tconst isExtendedItemsRequesting = isRequestingMethod\n\t\t? isRequestingMethod( extendQuery )\n\t\t: false;\n\tconst isExtendedItemsError = getErrorMethod\n\t\t? getErrorMethod( extendQuery )\n\t\t: false;\n\n\tconst extendedItemsData = itemsData.map( ( item ) => {\n\t\tconst extendedItemData = first(\n\t\t\textendedItems.filter(\n\t\t\t\t( extendedItem ) => item.id === extendedItem.id\n\t\t\t)\n\t\t);\n\t\treturn {\n\t\t\t...item,\n\t\t\t...extendedItemData,\n\t\t};\n\t} );\n\n\tconst isRequesting =\n\t\tqueriedTableData.isRequesting || isExtendedItemsRequesting;\n\tconst isError = queriedTableData.isError || isExtendedItemsError;\n\n\treturn {\n\t\t...queriedTableData,\n\t\tisRequesting,\n\t\tisError,\n\t\titems: {\n\t\t\t...queriedTableData.items,\n\t\t\tdata: extendedItemsData,\n\t\t},\n\t};\n}\n"],"sourceRoot":""}