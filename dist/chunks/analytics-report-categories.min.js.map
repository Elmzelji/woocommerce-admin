{"version":3,"sources":["webpack://wc.[modulename]/./client/analytics/report/categories/config.js","webpack://wc.[modulename]/./client/analytics/report/categories/index.js","webpack://wc.[modulename]/./client/analytics/report/categories/table.js"],"names":["CATEGORY_REPORT_CHARTS_FILTER","CATEGORY_REPORT_FILTERS_FILTER","CATEGORY_REPORT_ADVANCED_FILTERS_FILTER","charts","applyFilters","key","label","__","order","orderby","type","filters","staticParams","param","showFilters","value","chartMode","subFilters","component","path","settings","getLabels","getCategoryLabels","labels","placeholder","button","helpText","title","update","advancedFilters","CategoriesReport","query","props","isCompareView","filter","categories","split","length","isSingleCategoryView","mode","itemsLabel","isRequesting","getChartMeta","chartQuery","segmentby","getSelectedChart","chart","Component","propTypes","PropTypes","object","isRequired","string","CategoriesReportTable","getRowsContent","bind","getSummary","required","isSortable","isLeftAligned","defaultSort","isNumeric","categoryStats","context","renderCurrency","render","getCurrencyFormatDecimal","formatDecimal","getCurrencyConfig","currency","map","categoryStat","categoryId","category_id","itemsSold","items_sold","netRevenue","net_revenue","productsCount","products_count","ordersCount","orders_count","category","get","persistedQuery","getPersistedQuery","display","name","formatValue","getNewPath","id","totals","totalResults","formatAmount","_n","getHeadersContent","extended_info","contextType","CurrencyContext","compose","withSelect","select","search","ITEMS_STORE_NAME","getItems","getItemsError","isResolving","tableQuery","per_page","isCategoriesError","Boolean","isCategoriesRequesting","isError"],"mappings":"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","file":"chunks/analytics-report-categories.min.js","sourcesContent":["/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { applyFilters } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { getCategoryLabels } from '../../../lib/async-requests';\n\nconst CATEGORY_REPORT_CHARTS_FILTER =\n\t'woocommerce_admin_categories_report_charts';\nconst CATEGORY_REPORT_FILTERS_FILTER =\n\t'woocommerce_admin_categories_report_filters';\nconst CATEGORY_REPORT_ADVANCED_FILTERS_FILTER =\n\t'woocommerce_admin_category_report_advanced_filters';\n\nexport const charts = applyFilters( CATEGORY_REPORT_CHARTS_FILTER, [\n\t{\n\t\tkey: 'items_sold',\n\t\tlabel: __( 'Items Sold', 'woocommerce-admin' ),\n\t\torder: 'desc',\n\t\torderby: 'items_sold',\n\t\ttype: 'number',\n\t},\n\t{\n\t\tkey: 'net_revenue',\n\t\tlabel: __( 'Net Sales', 'woocommerce-admin' ),\n\t\torder: 'desc',\n\t\torderby: 'net_revenue',\n\t\ttype: 'currency',\n\t},\n\t{\n\t\tkey: 'orders_count',\n\t\tlabel: __( 'Orders', 'woocommerce-admin' ),\n\t\torder: 'desc',\n\t\torderby: 'orders_count',\n\t\ttype: 'number',\n\t},\n] );\n\nexport const filters = applyFilters( CATEGORY_REPORT_FILTERS_FILTER, [\n\t{\n\t\tlabel: __( 'Show', 'woocommerce-admin' ),\n\t\tstaticParams: [ 'chartType', 'paged', 'per_page' ],\n\t\tparam: 'filter',\n\t\tshowFilters: () => true,\n\t\tfilters: [\n\t\t\t{\n\t\t\t\tlabel: __( 'All Categories', 'woocommerce-admin' ),\n\t\t\t\tvalue: 'all',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Single Category', 'woocommerce-admin' ),\n\t\t\t\tvalue: 'select_category',\n\t\t\t\tchartMode: 'item-comparison',\n\t\t\t\tsubFilters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tcomponent: 'Search',\n\t\t\t\t\t\tvalue: 'single_category',\n\t\t\t\t\t\tchartMode: 'item-comparison',\n\t\t\t\t\t\tpath: [ 'select_category' ],\n\t\t\t\t\t\tsettings: {\n\t\t\t\t\t\t\ttype: 'categories',\n\t\t\t\t\t\t\tparam: 'categories',\n\t\t\t\t\t\t\tgetLabels: getCategoryLabels,\n\t\t\t\t\t\t\tlabels: {\n\t\t\t\t\t\t\t\tplaceholder: __(\n\t\t\t\t\t\t\t\t\t'Type to search for a category',\n\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tbutton: __(\n\t\t\t\t\t\t\t\t\t'Single Category',\n\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Comparison', 'woocommerce-admin' ),\n\t\t\t\tvalue: 'compare-categories',\n\t\t\t\tchartMode: 'item-comparison',\n\t\t\t\tsettings: {\n\t\t\t\t\ttype: 'categories',\n\t\t\t\t\tparam: 'categories',\n\t\t\t\t\tgetLabels: getCategoryLabels,\n\t\t\t\t\tlabels: {\n\t\t\t\t\t\thelpText: __(\n\t\t\t\t\t\t\t'Check at least two categories below to compare',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tplaceholder: __(\n\t\t\t\t\t\t\t'Search for categories to compare',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t),\n\t\t\t\t\t\ttitle: __( 'Compare Categories', 'woocommerce-admin' ),\n\t\t\t\t\t\tupdate: __( 'Compare', 'woocommerce-admin' ),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n] );\n\nexport const advancedFilters = applyFilters(\n\tCATEGORY_REPORT_ADVANCED_FILTERS_FILTER,\n\t{}\n);\n","/**\n * External dependencies\n */\nimport { Component, Fragment } from '@wordpress/element';\nimport PropTypes from 'prop-types';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { advancedFilters, charts, filters } from './config';\nimport CategoriesReportTable from './table';\nimport getSelectedChart from '../../../lib/get-selected-chart';\nimport ReportChart from '../../components/report-chart';\nimport ReportSummary from '../../components/report-summary';\nimport ProductsReportTable from '../products/table';\nimport ReportFilters from '../../components/report-filters';\n\nexport default class CategoriesReport extends Component {\n\tgetChartMeta() {\n\t\tconst { query } = this.props;\n\t\tconst isCompareView =\n\t\t\tquery.filter === 'compare-categories' &&\n\t\t\tquery.categories &&\n\t\t\tquery.categories.split( ',' ).length > 1;\n\t\tconst isSingleCategoryView =\n\t\t\tquery.filter === 'single_category' && !! query.categories;\n\n\t\tconst mode =\n\t\t\tisCompareView || isSingleCategoryView\n\t\t\t\t? 'item-comparison'\n\t\t\t\t: 'time-comparison';\n\t\tconst itemsLabel = isSingleCategoryView\n\t\t\t? __( '%d products', 'woocommerce-admin' )\n\t\t\t: __( '%d categories', 'woocommerce-admin' );\n\n\t\treturn {\n\t\t\tisSingleCategoryView,\n\t\t\titemsLabel,\n\t\t\tmode,\n\t\t};\n\t}\n\n\trender() {\n\t\tconst { isRequesting, query, path } = this.props;\n\t\tconst { mode, itemsLabel, isSingleCategoryView } = this.getChartMeta();\n\n\t\tconst chartQuery = {\n\t\t\t...query,\n\t\t};\n\n\t\tif ( mode === 'item-comparison' ) {\n\t\t\tchartQuery.segmentby = isSingleCategoryView\n\t\t\t\t? 'product'\n\t\t\t\t: 'category';\n\t\t}\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ReportFilters\n\t\t\t\t\tquery={ query }\n\t\t\t\t\tpath={ path }\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\t\treport=\"categories\"\n\t\t\t\t/>\n\t\t\t\t<ReportSummary\n\t\t\t\t\tcharts={ charts }\n\t\t\t\t\tendpoint=\"products\"\n\t\t\t\t\tisRequesting={ isRequesting }\n\t\t\t\t\tlimitProperties={\n\t\t\t\t\t\tisSingleCategoryView\n\t\t\t\t\t\t\t? [ 'products', 'categories' ]\n\t\t\t\t\t\t\t: [ 'categories' ]\n\t\t\t\t\t}\n\t\t\t\t\tquery={ chartQuery }\n\t\t\t\t\tselectedChart={ getSelectedChart( query.chart, charts ) }\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\t\treport=\"categories\"\n\t\t\t\t/>\n\t\t\t\t<ReportChart\n\t\t\t\t\tcharts={ charts }\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\t\tmode={ mode }\n\t\t\t\t\tendpoint=\"products\"\n\t\t\t\t\tlimitProperties={\n\t\t\t\t\t\tisSingleCategoryView\n\t\t\t\t\t\t\t? [ 'products', 'categories' ]\n\t\t\t\t\t\t\t: [ 'categories' ]\n\t\t\t\t\t}\n\t\t\t\t\tpath={ path }\n\t\t\t\t\tquery={ chartQuery }\n\t\t\t\t\tisRequesting={ isRequesting }\n\t\t\t\t\titemsLabel={ itemsLabel }\n\t\t\t\t\tselectedChart={ getSelectedChart( query.chart, charts ) }\n\t\t\t\t/>\n\t\t\t\t{ isSingleCategoryView ? (\n\t\t\t\t\t<ProductsReportTable\n\t\t\t\t\t\tisRequesting={ isRequesting }\n\t\t\t\t\t\tquery={ chartQuery }\n\t\t\t\t\t\tbaseSearchQuery={ { filter: 'single_category' } }\n\t\t\t\t\t\thideCompare={ isSingleCategoryView }\n\t\t\t\t\t\tfilters={ filters }\n\t\t\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<CategoriesReportTable\n\t\t\t\t\t\tisRequesting={ isRequesting }\n\t\t\t\t\t\tquery={ query }\n\t\t\t\t\t\tfilters={ filters }\n\t\t\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nCategoriesReport.propTypes = {\n\tquery: PropTypes.object.isRequired,\n\tpath: PropTypes.string.isRequired,\n};\n","/**\n * External dependencies\n */\nimport { __, _n } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport { map } from 'lodash';\nimport { getNewPath, getPersistedQuery } from '@woocommerce/navigation';\nimport { Link } from '@woocommerce/components';\nimport { formatValue } from '@woocommerce/number';\nimport { ITEMS_STORE_NAME } from '@woocommerce/data';\n\n/**\n * Internal dependencies\n */\nimport CategoryBreacrumbs from './breadcrumbs';\nimport ReportTable from '../../components/report-table';\nimport { CurrencyContext } from '../../../lib/currency-context';\n\nclass CategoriesReportTable extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.getRowsContent = this.getRowsContent.bind( this );\n\t\tthis.getSummary = this.getSummary.bind( this );\n\t}\n\n\tgetHeadersContent() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tlabel: __( 'Category', 'woocommerce-admin' ),\n\t\t\t\tkey: 'category',\n\t\t\t\trequired: true,\n\t\t\t\tisSortable: true,\n\t\t\t\tisLeftAligned: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Items Sold', 'woocommerce-admin' ),\n\t\t\t\tkey: 'items_sold',\n\t\t\t\trequired: true,\n\t\t\t\tdefaultSort: true,\n\t\t\t\tisSortable: true,\n\t\t\t\tisNumeric: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Net Sales', 'woocommerce-admin' ),\n\t\t\t\tkey: 'net_revenue',\n\t\t\t\tisSortable: true,\n\t\t\t\tisNumeric: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Products', 'woocommerce-admin' ),\n\t\t\t\tkey: 'products_count',\n\t\t\t\tisSortable: true,\n\t\t\t\tisNumeric: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Orders', 'woocommerce-admin' ),\n\t\t\t\tkey: 'orders_count',\n\t\t\t\tisSortable: true,\n\t\t\t\tisNumeric: true,\n\t\t\t},\n\t\t];\n\t}\n\n\tgetRowsContent( categoryStats ) {\n\t\tconst {\n\t\t\trender: renderCurrency,\n\t\t\tformatDecimal: getCurrencyFormatDecimal,\n\t\t\tgetCurrencyConfig,\n\t\t} = this.context;\n\t\tconst currency = getCurrencyConfig();\n\n\t\treturn map( categoryStats, ( categoryStat ) => {\n\t\t\tconst {\n\t\t\t\tcategory_id: categoryId,\n\t\t\t\titems_sold: itemsSold,\n\t\t\t\tnet_revenue: netRevenue,\n\t\t\t\tproducts_count: productsCount,\n\t\t\t\torders_count: ordersCount,\n\t\t\t} = categoryStat;\n\t\t\tconst { categories, query } = this.props;\n\t\t\tconst category = categories.get( categoryId );\n\t\t\tconst persistedQuery = getPersistedQuery( query );\n\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tdisplay: (\n\t\t\t\t\t\t<CategoryBreacrumbs\n\t\t\t\t\t\t\tquery={ query }\n\t\t\t\t\t\t\tcategory={ category }\n\t\t\t\t\t\t\tcategories={ categories }\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tvalue: category && category.name,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: formatValue( currency, 'number', itemsSold ),\n\t\t\t\t\tvalue: itemsSold,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: renderCurrency( netRevenue ),\n\t\t\t\t\tvalue: getCurrencyFormatDecimal( netRevenue ),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: category && (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\thref={ getNewPath(\n\t\t\t\t\t\t\t\tpersistedQuery,\n\t\t\t\t\t\t\t\t'/analytics/categories',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfilter: 'single_category',\n\t\t\t\t\t\t\t\t\tcategories: category.id,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\ttype=\"wc-admin\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ formatValue( currency, 'number', productsCount ) }\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t),\n\t\t\t\t\tvalue: productsCount,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: formatValue( currency, 'number', ordersCount ),\n\t\t\t\t\tvalue: ordersCount,\n\t\t\t\t},\n\t\t\t];\n\t\t} );\n\t}\n\n\tgetSummary( totals, totalResults = 0 ) {\n\t\tconst {\n\t\t\titems_sold: itemsSold = 0,\n\t\t\tnet_revenue: netRevenue = 0,\n\t\t\torders_count: ordersCount = 0,\n\t\t} = totals;\n\t\tconst { formatAmount, getCurrencyConfig } = this.context;\n\t\tconst currency = getCurrencyConfig();\n\t\treturn [\n\t\t\t{\n\t\t\t\tlabel: _n(\n\t\t\t\t\t'category',\n\t\t\t\t\t'categories',\n\t\t\t\t\ttotalResults,\n\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t),\n\t\t\t\tvalue: formatValue( currency, 'number', totalResults ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: _n(\n\t\t\t\t\t'item sold',\n\t\t\t\t\t'items sold',\n\t\t\t\t\titemsSold,\n\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t),\n\t\t\t\tvalue: formatValue( currency, 'number', itemsSold ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'net sales', 'woocommerce-admin' ),\n\t\t\t\tvalue: formatAmount( netRevenue ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: _n(\n\t\t\t\t\t'order',\n\t\t\t\t\t'orders',\n\t\t\t\t\tordersCount,\n\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t),\n\t\t\t\tvalue: formatValue( currency, 'number', ordersCount ),\n\t\t\t},\n\t\t];\n\t}\n\n\trender() {\n\t\tconst { advancedFilters, filters, isRequesting, query } = this.props;\n\n\t\tconst labels = {\n\t\t\thelpText: __(\n\t\t\t\t'Check at least two categories below to compare',\n\t\t\t\t'woocommerce-admin'\n\t\t\t),\n\t\t\tplaceholder: __( 'Search by category name', 'woocommerce-admin' ),\n\t\t};\n\n\t\treturn (\n\t\t\t<ReportTable\n\t\t\t\tcompareBy=\"categories\"\n\t\t\t\tendpoint=\"categories\"\n\t\t\t\tgetHeadersContent={ this.getHeadersContent }\n\t\t\t\tgetRowsContent={ this.getRowsContent }\n\t\t\t\tgetSummary={ this.getSummary }\n\t\t\t\tsummaryFields={ [\n\t\t\t\t\t'items_sold',\n\t\t\t\t\t'net_revenue',\n\t\t\t\t\t'orders_count',\n\t\t\t\t] }\n\t\t\t\tisRequesting={ isRequesting }\n\t\t\t\titemIdField=\"category_id\"\n\t\t\t\tquery={ query }\n\t\t\t\tsearchBy=\"categories\"\n\t\t\t\tlabels={ labels }\n\t\t\t\ttableQuery={ {\n\t\t\t\t\torderby: query.orderby || 'items_sold',\n\t\t\t\t\torder: query.order || 'desc',\n\t\t\t\t\textended_info: true,\n\t\t\t\t} }\n\t\t\t\ttitle={ __( 'Categories', 'woocommerce-admin' ) }\n\t\t\t\tcolumnPrefsKey=\"categories_report_columns\"\n\t\t\t\tfilters={ filters }\n\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nCategoriesReportTable.contextType = CurrencyContext;\n\nexport default compose(\n\twithSelect( ( select, props ) => {\n\t\tconst { isRequesting, query } = props;\n\t\tif (\n\t\t\tisRequesting ||\n\t\t\t( query.search &&\n\t\t\t\t! ( query.categories && query.categories.length ) )\n\t\t) {\n\t\t\treturn {};\n\t\t}\n\n\t\tconst { getItems, getItemsError, isResolving } = select(\n\t\t\tITEMS_STORE_NAME\n\t\t);\n\t\tconst tableQuery = {\n\t\t\tper_page: -1,\n\t\t};\n\n\t\tconst categories = getItems( 'categories', tableQuery );\n\t\tconst isCategoriesError = Boolean(\n\t\t\tgetItemsError( 'categories', tableQuery )\n\t\t);\n\t\tconst isCategoriesRequesting = isResolving( 'getItems', [\n\t\t\t'categories',\n\t\t\ttableQuery,\n\t\t] );\n\n\t\treturn {\n\t\t\tcategories,\n\t\t\tisError: isCategoriesError,\n\t\t\tisRequesting: isCategoriesRequesting,\n\t\t};\n\t} )\n)( CategoriesReportTable );\n"],"sourceRoot":""}