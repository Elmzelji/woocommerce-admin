{"version":3,"sources":["webpack://wc.[modulename]/./client/analytics/components/report-filters/index.js","webpack://wc.[modulename]/./client/dashboard/customizable.js","webpack://wc.[modulename]/./client/dashboard/default-sections.js","webpack://wc.[modulename]/./client/dashboard/section-controls.js","webpack://wc.[modulename]/./client/dashboard/section.js"],"names":["ReportFilters","trackDateSelect","bind","trackFilterSelect","trackAdvancedFilterAction","data","report","props","recordEvent","omitBy","isUndefined","filter","action","key","snakeCaseData","Object","keys","reduce","result","property","snakeCase","value","match","advancedFilters","filters","path","query","showDatePicker","defaultDateRange","getDateParamsFromQuery","period","compare","before","after","getCurrentDates","primaryDate","primary","secondaryDate","secondary","dateQuery","Currency","context","LOCALE","siteLocale","isoDateFormat","Component","contextType","CurrencyContext","withSelect","select","SETTINGS_STORE_NAME","getSetting","woocommerce_default_date_range","propTypes","PropTypes","object","array","string","isRequired","bool","TaskList","lazy","DASHBOARD_FILTERS_FILTER","applyFilters","CustomizableDashboard","state","sections","mergeSectionsWithDefaults","userPrefSections","onMove","updateSection","prefSections","length","defaultSections","defaultKeys","map","section","prefKeys","Set","forEach","defaultSection","find","prefSection","push","newSections","setState","updateCurrentUserData","dashboard_sections","updatedKey","newSettings","updateSections","updatedHiddenBlocks","hiddenBlocks","updatedTitle","title","onToggle","index","findIndex","s","toggledSection","splice","shift","isVisible","change","movedSection","newIndex","nextJumpedSectionIndex","eventProps","direction","hiddenSections","isOpen","__","toggleVisibility","sprintf","icon","visibleSectionKeys","component","onChangeHiddenBlocks","onSectionTitleUpdate","partial","renderAddMore","taskListHidden","taskListComplete","isTaskListEnabled","isOnboardingEnabled","isDashboardShown","task","renderDashboardReports","compose","getCurrentUserData","isGetProfileItemsRequesting","getOptions","isGetOptionsRequesting","userData","withSelectData","requesting","options","get","withDispatch","dispatch","LazyDashboardCharts","LazyLeaderboards","LazyStorePerformance","DashboardCharts","Leaderboards","StorePerformance","DEFAULT_SECTIONS_FILTER","SectionControls","onMoveUp","onMoveDown","onRemove","isFirst","isLast","onTitleBlur","onTitleChange","titleInput","Section","onToggleHiddenBlock","onTitleUpdate","xor","SectionComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;AAGA;AACA;AACA;AACA;AAEA;;;;AAGA;AACA;AACA;AAEA;;;;AAGA;AACA;AAKA;;IAEMA,a;;;;;AACL,2BAAc;AAAA;;AAAA;;AACb;AACA,UAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBC,IAArB,4FAAvB;AACA,UAAKC,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBD,IAAvB,4FAAzB;AACA,UAAKE,yBAAL,GAAiC,MAAKA,yBAAL,CAA+BF,IAA/B,4FAAjC;AAJa;AAOb;;;;oCAEgBG,I,EAAO;AAAA,UACfC,MADe,GACJ,KAAKC,KADD,CACfD,MADe;AAEvBE,qEAAW,CAAE,mBAAF;AACVF,cAAM,EAANA;AADU,SAEPG,qDAAM,CAAEJ,IAAF,EAAQK,kDAAR,CAFC,EAAX;AAIA;;;sCAEkBL,I,EAAO;AAAA,UACjBC,MADiB,GACN,KAAKC,KADC,CACjBD,MADiB;AAEzBE,qEAAW,CAAE,kBAAF,EAAsB;AAChCF,cAAM,EAANA,MADgC;AAEhCK,cAAM,EAAEN,IAAI,CAACM,MAAL,IAAe;AAFS,OAAtB,CAAX;AAIA;;;8CAE0BC,M,EAAQP,I,EAAO;AAAA,UACjCC,MADiC,GACtB,KAAKC,KADiB,CACjCD,MADiC;;AAGzC,cAASM,MAAT;AACC,aAAK,KAAL;AACCJ,yEAAW,CAAE,uBAAF,EAA2B;AACrCF,kBAAM,EAANA,MADqC;AAErCK,kBAAM,EAAEN,IAAI,CAACQ;AAFwB,WAA3B,CAAX;AAIA;;AACD,aAAK,QAAL;AACCL,yEAAW,CAAE,0BAAF,EAA8B;AACxCF,kBAAM,EAANA,MADwC;AAExCK,kBAAM,EAAEN,IAAI,CAACQ;AAF2B,WAA9B,CAAX;AAIA;;AACD,aAAK,QAAL;AACC,cAAMC,aAAa,GAAGC,MAAM,CAACC,IAAP,CAAaX,IAAb,EAAoBY,MAApB,CACrB,UAAEC,MAAF,EAAUC,QAAV,EAAwB;AACvBD,kBAAM,CAAEE,wDAAS,CAAED,QAAF,CAAX,CAAN,GAAkCd,IAAI,CAAEc,QAAF,CAAtC;AACA,mBAAOD,MAAP;AACA,WAJoB,EAKrB,EALqB,CAAtB;AAOAV,yEAAW,CAAE,0BAAF,EAA8B;AACxCF,kBAAM,EAANA,MADwC;AAExCQ,yBAAa,EAAbA;AAFwC,WAA9B,CAAX;AAIA;;AACD,aAAK,WAAL;AACCN,yEAAW,CAAE,6BAAF,EAAiC;AAAEF,kBAAM,EAANA;AAAF,WAAjC,CAAX;AACA;;AACD,aAAK,OAAL;AACCE,yEAAW,CAAE,2BAAF,EAA+B;AACzCF,kBAAM,EAANA,MADyC;AAEzCe,iBAAK,EAAEhB,IAAI,CAACiB;AAF6B,WAA/B,CAAX;AAIA;AAlCF;AAoCA;;;6BAEQ;AAAA,wBAQJ,KAAKf,KARD;AAAA,UAEPgB,eAFO,eAEPA,eAFO;AAAA,UAGPC,OAHO,eAGPA,OAHO;AAAA,UAIPC,IAJO,eAIPA,IAJO;AAAA,UAKPC,KALO,eAKPA,KALO;AAAA,UAMPC,cANO,eAMPA,cANO;AAAA,UAOPC,gBAPO,eAOPA,gBAPO;;AAAA,kCASmCC,wEAAsB,CAChEH,KADgE,EAEhEE,gBAFgE,CATzD;AAAA,UASAE,MATA,yBASAA,MATA;AAAA,UASQC,OATR,yBASQA,OATR;AAAA,UASiBC,MATjB,yBASiBA,MATjB;AAAA,UASyBC,KATzB,yBASyBA,KATzB;;AAAA,6BAgBJC,iEAAe,CAAER,KAAF,EAASE,gBAAT,CAhBX;AAAA,UAcEO,WAdF,oBAcPC,OAdO;AAAA,UAeIC,aAfJ,oBAePC,SAfO;;AAiBR,UAAMC,SAAS,GAAG;AACjBT,cAAM,EAANA,MADiB;AAEjBC,eAAO,EAAPA,OAFiB;AAGjBC,cAAM,EAANA,MAHiB;AAIjBC,aAAK,EAALA,KAJiB;AAKjBE,mBAAW,EAAXA,WALiB;AAMjBE,qBAAa,EAAbA;AANiB,OAAlB;AAQA,UAAMG,QAAQ,GAAG,KAAKC,OAAtB;AAEA,aACC,yEAAC,sEAAD;AACC,aAAK,EAAGf,KADT;AAEC,kBAAU,EAAGgB,sEAAM,CAACC,UAFrB;AAGC,gBAAQ,EAAGH,QAHZ;AAIC,YAAI,EAAGf,IAJR;AAKC,eAAO,EAAGD,OALX;AAMC,uBAAe,EAAGD,eANnB;AAOC,sBAAc,EAAGI,cAPlB;AAQC,oBAAY,EAAG,KAAK1B,eARrB;AASC,sBAAc,EAAG,KAAKE,iBATvB;AAUC,8BAAsB,EAAG,KAAKC,yBAV/B;AAWC,iBAAS,EAAGmC,SAXb;AAYC,qBAAa,EAAGK,uDAAaA;AAZ9B,QADD;AAgBA;;;;EA9G0BC,4D;;AAiH5B7C,aAAa,CAAC8C,WAAd,GAA4BC,qEAA5B;AAEeC,kIAAU,CAAE,UAAEC,MAAF,EAAc;AAAA,2BACqBA,MAAM,CAClEC,sEADkE,CAAN,CAE3DC,UAF2D,CAE/C,UAF+C,EAEnC,iBAFmC,CADrB;AAAA,MACAvB,gBADA,sBAChCwB,8BADgC;;AAIxC,SAAO;AAAExB,oBAAgB,EAAhBA;AAAF,GAAP;AACA,CALwB,CAAV,CAKV5B,aALU,CAAf;AAOAA,aAAa,CAACqD,SAAd,GAA0B;AACzB;;;AAGA9B,iBAAe,EAAE+B,iDAAS,CAACC,MAJF;;AAKzB;;;AAGA/B,SAAO,EAAE8B,iDAAS,CAACE,KARM;;AASzB;;;AAGA/B,MAAI,EAAE6B,iDAAS,CAACG,MAAV,CAAiBC,UAZE;;AAazB;;;AAGAhC,OAAK,EAAE4B,iDAAS,CAACC,MAhBQ;;AAiBzB;;;AAGA5B,gBAAc,EAAE2B,iDAAS,CAACK,IApBD;;AAqBzB;;;AAGArD,QAAM,EAAEgD,iDAAS,CAACG,MAAV,CAAiBC;AAxBA,CAA1B,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpJA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AAGA;AACA;AAEA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAEA,IAAME,QAAQ,GAAGC,+DAAI,CAAE;AAAA,SACtB,gOADsB;AAAA,CAAF,CAArB;AAIA,IAAMC,wBAAwB,GAAG,qCAAjC;AACA,IAAMtC,OAAO,GAAGuC,sEAAY,CAAED,wBAAF,EAA4B,EAA5B,CAA5B;;IAEME,qB;;;;;AACL,iCAAazD,KAAb,EAAqB;AAAA;;AAAA;;AACpB,8BAAOA,KAAP;AAEA,UAAK0D,KAAL,GAAa;AACZC,cAAQ,EAAE,MAAKC,yBAAL,CAAgC5D,KAAK,CAAC6D,gBAAtC;AADE,KAAb;AAIA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYnE,IAAZ,4FAAd;AACA,UAAKoE,aAAL,GAAqB,MAAKA,aAAL,CAAmBpE,IAAnB,4FAArB;AARoB;AASpB;;;;8CAE0BqE,Y,EAAe;AACzC,UAAK,CAAEA,YAAF,IAAkBA,YAAY,CAACC,MAAb,KAAwB,CAA/C,EAAmD;AAClD,eAAOC,0DAAP;AACA;;AACD,UAAMC,WAAW,GAAGD,0DAAe,CAACE,GAAhB,CAAqB,UAAEC,OAAF;AAAA,eAAeA,OAAO,CAAC/D,GAAvB;AAAA,OAArB,CAApB;AACA,UAAMgE,QAAQ,GAAGN,YAAY,CAACI,GAAb,CAAkB,UAAEC,OAAF;AAAA,eAAeA,OAAO,CAAC/D,GAAvB;AAAA,OAAlB,CAAjB;AACA,UAAMG,IAAI,GAAG,IAAI8D,GAAJ,2FAAcD,QAAd,mFAA2BH,WAA3B,GAAb;AACA,UAAMR,QAAQ,GAAG,EAAjB;AAEAlD,UAAI,CAAC+D,OAAL,CAAc,UAAElE,GAAF,EAAW;AACxB,YAAMmE,cAAc,GAAGP,0DAAe,CAACQ,IAAhB,CACtB,UAAEL,OAAF;AAAA,iBAAeA,OAAO,CAAC/D,GAAR,KAAgBA,GAA/B;AAAA,SADsB,CAAvB;;AAGA,YAAK,CAAEmE,cAAP,EAAwB;AACvB;AACA;;AACD,YAAME,WAAW,GAAGX,YAAY,CAACU,IAAb,CACnB,UAAEL,OAAF;AAAA,iBAAeA,OAAO,CAAC/D,GAAR,KAAgBA,GAA/B;AAAA,SADmB,CAApB;AAIAqD,gBAAQ,CAACiB,IAAT,mBACIH,cADJ,MAEIE,WAFJ;AAIA,OAfD;AAiBA,aAAOhB,QAAP;AACA;;;mCAEekB,W,EAAc;AAC7B,WAAKC,QAAL,CAAe;AAAEnB,gBAAQ,EAAEkB;AAAZ,OAAf;AACA,WAAK7E,KAAL,CAAW+E,qBAAX,CAAkC;AAAEC,0BAAkB,EAAEH;AAAtB,OAAlC;AACA;;;kCAEcI,U,EAAYC,W,EAAc;AACxC,UAAML,WAAW,GAAG,KAAKnB,KAAL,CAAWC,QAAX,CAAoBS,GAApB,CAAyB,UAAEC,OAAF,EAAe;AAC3D,YAAKA,OAAO,CAAC/D,GAAR,KAAgB2E,UAArB,EAAkC;AACjC,mCACIZ,OADJ,MAEIa,WAFJ;AAIA;;AACD,eAAOb,OAAP;AACA,OARmB,CAApB;AASA,WAAKc,cAAL,CAAqBN,WAArB;AACA;;;yCAEqBI,U,EAAa;AAAA;;AAClC,aAAO,UAAEG,mBAAF,EAA2B;AACjC,cAAI,CAACrB,aAAL,CAAoBkB,UAApB,EAAgC;AAC/BI,sBAAY,EAAED;AADiB,SAAhC;AAGA,OAJD;AAKA;;;yCAEqBH,U,EAAa;AAAA;;AAClC,aAAO,UAAEK,YAAF,EAAoB;AAC1BrF,uEAAW,CAAE,qBAAF,EAAyB;AAAEK,aAAG,EAAE2E;AAAP,SAAzB,CAAX;;AACA,cAAI,CAAClB,aAAL,CAAoBkB,UAApB,EAAgC;AAAEM,eAAK,EAAED;AAAT,SAAhC;AACA,OAHD;AAIA;;;qCAEiBhF,G,EAAKkF,Q,EAAW;AAAA;;AACjC,aAAO,YAAM;AACZ,YAAKA,QAAL,EAAgB;AACf;AACAA,kBAAQ;AACR,SAJW,CAKZ;;;AACA,YAAM7B,QAAQ,GAAG,gFAAK,MAAI,CAACD,KAAL,CAAWC,QAAnB,CAAd;;AACA,YAAM8B,KAAK,GAAG9B,QAAQ,CAAC+B,SAAT,CAAoB,UAAEC,CAAF;AAAA,iBAASrF,GAAG,KAAKqF,CAAC,CAACrF,GAAnB;AAAA,SAApB,CAAd;AACA,YAAMsF,cAAc,GAAGjC,QAAQ,CAACkC,MAAT,CAAiBJ,KAAjB,EAAwB,CAAxB,EAA4BK,KAA5B,EAAvB;AACAF,sBAAc,CAACG,SAAf,GAA2B,CAAEH,cAAc,CAACG,SAA5C;AACApC,gBAAQ,CAACiB,IAAT,CAAegB,cAAf;;AAEA,YAAKA,cAAc,CAACG,SAApB,EAAgC;AAC/B9F,yEAAW,CAAE,kBAAF,EAAsB;AAAEK,eAAG,EAAEsF,cAAc,CAACtF;AAAtB,WAAtB,CAAX;AACA,SAFD,MAEO;AACNL,yEAAW,CAAE,qBAAF,EAAyB;AACnCK,eAAG,EAAEsF,cAAc,CAACtF;AADe,WAAzB,CAAX;AAGA;;AAED,cAAI,CAAC6E,cAAL,CAAqBxB,QAArB;AACA,OArBD;AAsBA;;;2BAEO8B,K,EAAOO,M,EAAS;AACvB,UAAMrC,QAAQ,GAAG,gFAAK,KAAKD,KAAL,CAAWC,QAAnB,CAAd;;AACA,UAAMsC,YAAY,GAAGtC,QAAQ,CAACkC,MAAT,CAAiBJ,KAAjB,EAAwB,CAAxB,EAA4BK,KAA5B,EAArB;AACA,UAAMI,QAAQ,GAAGT,KAAK,GAAGO,MAAzB,CAHuB,CAKvB;;AACA,UAAMG,sBAAsB,GAAGH,MAAM,GAAG,CAAT,GAAaE,QAAb,GAAwBA,QAAQ,GAAG,CAAlE;;AAEA,UACCvC,QAAQ,CAAEwC,sBAAF,CAAR,CAAmCJ,SAAnC,IAAgD;AAChDN,WAAK,KAAK,CADV,IACe;AACfA,WAAK,KAAK9B,QAAQ,CAACM,MAAT,GAAkB,CAH7B,CAG+B;AAH/B,QAIE;AACD;AACAN,kBAAQ,CAACkC,MAAT,CAAiBK,QAAjB,EAA2B,CAA3B,EAA8BD,YAA9B;AACA,eAAKd,cAAL,CAAqBxB,QAArB;AAEA,cAAMyC,UAAU,GAAG;AAClB9F,eAAG,EAAE2F,YAAY,CAAC3F,GADA;AAElB+F,qBAAS,EAAEL,MAAM,GAAG,CAAT,GAAa,MAAb,GAAsB;AAFf,WAAnB;AAIA/F,yEAAW,CAAE,2BAAF,EAA+BmG,UAA/B,CAAX;AACA,SAdD,MAcO;AACN;AACA,aAAKtC,MAAL,CAAa2B,KAAb,EAAoBO,MAAM,GAAGA,MAA7B;AACA;AACD;;;oCAEe;AAAA;;AAAA,UACPrC,QADO,GACM,KAAKD,KADX,CACPC,QADO;AAEf,UAAM2C,cAAc,GAAG3C,QAAQ,CAACvD,MAAT,CACtB,UAAEiE,OAAF;AAAA,eAAeA,OAAO,CAAC0B,SAAR,KAAsB,KAArC;AAAA,OADsB,CAAvB;;AAIA,UAAKO,cAAc,CAACrC,MAAf,KAA0B,CAA/B,EAAmC;AAClC,eAAO,IAAP;AACA;;AAED,aACC,yEAAC,+DAAD;AACC,gBAAQ,EAAC,YADV;AAEC,iBAAS,EAAC,yCAFX;AAGC,oBAAY,EAAG;AAAA,cAAIuB,QAAJ,QAAIA,QAAJ;AAAA,cAAce,MAAd,QAAcA,MAAd;AAAA,iBACd,yEAAC,iEAAD;AACC,mBAAO,EAAGf,QADX;AAEC,gBAAI,EAAC,UAFN;AAGC,iBAAK,EAAGgB,0DAAE,CAAE,mBAAF,EAAuB,mBAAvB,CAHX;AAIC,6BAAgBD;AAJjB,YADc;AAAA,SAHhB;AAWC,qBAAa,EAAG;AAAA,cAAIf,QAAJ,SAAIA,QAAJ;AAAA,iBACf,yEAAC,2DAAD,QACC,yEAAC,0DAAD,QACGgB,0DAAE,CAAE,oBAAF,EAAwB,mBAAxB,CADL,CADD,EAIC;AAAK,qBAAS,EAAC;AAAf,aACGF,cAAc,CAAClC,GAAf,CAAoB,UAAEC,OAAF,EAAe;AACpC,mBACC,yEAAC,6DAAD;AACC,iBAAG,EAAGA,OAAO,CAAC/D,GADf;AAEC,qBAAO,EAAG,MAAI,CAACmG,gBAAL,CACTpC,OAAO,CAAC/D,GADC,EAETkF,QAFS,CAFX;AAMC,uBAAS,EAAC,6CANX;AAOC,mBAAK,EAAGkB,+DAAO,CACdF,0DAAE,CACD,gBADC,EAED,mBAFC,CADY,EAKdnC,OAAO,CAACkB,KALM;AAPhB,eAeC,yEAAC,2DAAD;AACC,kBAAI,EAAGlB,OAAO,CAACsC,IADhB;AAEC,kBAAI,EAAG;AAFR,cAfD,EAmBC;AAAM,uBAAS,EAAC;AAAhB,eACGtC,OAAO,CAACkB,KADX,CAnBD,CADD;AAyBA,WA1BC,CADH,CAJD,CADe;AAAA;AAXjB,QADD;AAkDA;;;6CAEwB;AAAA;;AAAA,wBACkB,KAAKvF,KADvB;AAAA,UAChBmB,KADgB,eAChBA,KADgB;AAAA,UACTD,IADS,eACTA,IADS;AAAA,UACHG,gBADG,eACHA,gBADG;AAAA,UAEhBsC,QAFgB,GAEH,KAAKD,KAFF,CAEhBC,QAFgB;;AAAA,kCAGmBrC,wEAAsB,CAChEH,KADgE,EAEhEE,gBAFgE,CAHzC;AAAA,UAGhBE,MAHgB,yBAGhBA,MAHgB;AAAA,UAGRC,OAHQ,yBAGRA,OAHQ;AAAA,UAGCC,MAHD,yBAGCA,MAHD;AAAA,UAGSC,KAHT,yBAGSA,KAHT;;AAAA,6BAUpBC,iEAAe,CAAER,KAAF,EAASE,gBAAT,CAVK;AAAA,UAQdO,WARc,oBAQvBC,OARuB;AAAA,UASZC,aATY,oBASvBC,SATuB;;AAWxB,UAAMC,SAAS,GAAG;AACjBT,cAAM,EAANA,MADiB;AAEjBC,eAAO,EAAPA,OAFiB;AAGjBC,cAAM,EAANA,MAHiB;AAIjBC,aAAK,EAALA,KAJiB;AAKjBE,mBAAW,EAAXA,WALiB;AAMjBE,qBAAa,EAAbA;AANiB,OAAlB;AAQA,UAAM8E,kBAAkB,GAAGjD,QAAQ,CACjCvD,MADyB,CACjB,UAAEiE,OAAF;AAAA,eAAeA,OAAO,CAAC0B,SAAvB;AAAA,OADiB,EAEzB3B,GAFyB,CAEpB,UAAEC,OAAF;AAAA,eAAeA,OAAO,CAAC/D,GAAvB;AAAA,OAFoB,CAA3B;AAIA,aACC,yEAAC,2DAAD,QACC,yEAAC,4EAAD;AACC,cAAM,EAAC,WADR;AAEC,aAAK,EAAGa,KAFT;AAGC,YAAI,EAAGD,IAHR;AAIC,iBAAS,EAAGc,SAJb;AAKC,qBAAa,EAAGK,uDALjB;AAMC,eAAO,EAAGpB;AANX,QADD,EASG0C,QAAQ,CAACS,GAAT,CAAc,UAAEC,OAAF,EAAWoB,KAAX,EAAsB;AACrC,YAAKpB,OAAO,CAAC0B,SAAb,EAAyB;AACxB,iBACC,yEAAC,iDAAD;AACC,qBAAS,EAAG1B,OAAO,CAACwC,SADrB;AAEC,wBAAY,EAAGxC,OAAO,CAACgB,YAFxB;AAGC,eAAG,EAAGhB,OAAO,CAAC/D,GAHf;AAIC,gCAAoB,EAAG,MAAI,CAACwG,oBAAL,CACtBzC,OAAO,CAAC/D,GADc,CAJxB;AAOC,yBAAa,EAAG,MAAI,CAACyG,oBAAL,CACf1C,OAAO,CAAC/D,GADO,CAPjB;AAUC,gBAAI,EAAGY,IAVR;AAWC,iBAAK,EAAGC,KAXT;AAYC,iBAAK,EAAGkD,OAAO,CAACkB,KAZjB;AAaC,kBAAM,EAAGyB,uDAAO,CAAE,MAAI,CAAClD,MAAP,EAAe2B,KAAf,CAbjB;AAcC,oBAAQ,EAAG,MAAI,CAACgB,gBAAL,CACVpC,OAAO,CAAC/D,GADE,CAdZ;AAiBC,mBAAO,EACN+D,OAAO,CAAC/D,GAAR,KAAgBsG,kBAAkB,CAAE,CAAF,CAlBpC;AAoBC,kBAAM,EACLvC,OAAO,CAAC/D,GAAR,KACAsG,kBAAkB,CACjBA,kBAAkB,CAAC3C,MAAnB,GAA4B,CADX;AAtBpB,YADD;AA6BA;;AACD,eAAO,IAAP;AACA,OAjCC,CATH,EA2CG,KAAKgD,aAAL,EA3CH,CADD;AA+CA;;;6BAEQ;AAAA,yBAC4C,KAAKjH,KADjD;AAAA,UACAmB,KADA,gBACAA,KADA;AAAA,UACO+F,cADP,gBACOA,cADP;AAAA,UACuBC,gBADvB,gBACuBA,gBADvB;AAGR,UAAMC,iBAAiB,GAAGC,4EAAmB,MAAM,CAAEH,cAArD;AAEA,UAAMI,gBAAgB,GACrB,CAAEF,iBAAF,IAAyB,CAAEjG,KAAK,CAACoG,IAAR,IAAgBJ,gBAD1C;AAGA,aACC,yEAAC,2DAAD,QACGC,iBAAiB,IAClB,yEAAC,2DAAD;AAAU,gBAAQ,EAAG,yEAAC,gEAAD;AAArB,SACC,yEAAC,QAAD;AACC,aAAK,EAAGjG,KADT;AAEC,cAAM,EAAGmG;AAFV,QADD,CAFF,EASGA,gBAAgB,IAAI,KAAKE,sBAAL,EATvB,CADD;AAaA;;;;EA1RkClF,4D;;AA6RrBmF,kIAAO,CACrBhF,mEAAU,CAAE,UAAEC,MAAF,EAAc;AAAA,gBAMrBA,MAAM,CAAE,QAAF,CANe;AAAA,MAExBgF,kBAFwB,WAExBA,kBAFwB;AAAA,MAGxBC,2BAHwB,WAGxBA,2BAHwB;AAAA,MAIxBC,UAJwB,WAIxBA,UAJwB;AAAA,MAKxBC,sBALwB,WAKxBA,sBALwB;;AAOzB,MAAMC,QAAQ,GAAGJ,kBAAkB,EAAnC;;AAPyB,2BAQoChF,MAAM,CAClEC,sEADkE,CAAN,CAE3DC,UAF2D,CAE/C,UAF+C,EAEnC,iBAFmC,CARpC;AAAA,MAQevB,gBARf,sBAQjBwB,8BARiB;;AAYzB,MAAMkF,cAAc,GAAG;AACtBlE,oBAAgB,EAAEiE,QAAQ,CAAC9C,kBADL;AAEtB3D,oBAAgB,EAAhBA,gBAFsB;AAGtB2G,cAAU,EAAE;AAHU,GAAvB;;AAMA,MAAKX,4EAAmB,EAAxB,EAA6B;AAC5B,QAAMY,OAAO,GAAGL,UAAU,CAAE,CAC3B,gCAD2B,EAE3B,8BAF2B,CAAF,CAA1B;AAIAG,kBAAc,CAACb,cAAf,GACCgB,mDAAG,CAAED,OAAF,EAAW,CAAE,8BAAF,CAAX,EAA+C,IAA/C,CAAH,KACA,KAFD;AAGAF,kBAAc,CAACZ,gBAAf,GAAkCe,mDAAG,CACpCD,OADoC,EAEpC,CAAE,gCAAF,CAFoC,EAGpC,KAHoC,CAArC;AAKAF,kBAAc,CAACC,UAAf,GACCD,cAAc,CAACC,UAAf,IAA6BL,2BAA2B,EADzD;AAEAI,kBAAc,CAACC,UAAf,GACCD,cAAc,CAACC,UAAf,IACAH,sBAAsB,CAAE,CACvB,gCADuB,EAEvB,8BAFuB,CAAF,CAFvB;AAMA;;AAED,SAAOE,cAAP;AACA,CA1CS,CADW,EA4CrBI,qEAAY,CAAE,UAAEC,QAAF,EAAgB;AAAA,kBACKA,QAAQ,CAAE,QAAF,CADb;AAAA,MACrBrD,qBADqB,aACrBA,qBADqB;;AAG7B,SAAO;AACNA,yBAAqB,EAArBA;AADM,GAAP;AAGA,CANW,CA5CS,CAAP,CAmDZtB,qBAnDY,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;ACrUA;;;AAGA;AACA;AACA;AAEA;;;;AAGA;AACA,IAAM4E,mBAAmB,GAAG/E,+DAAI,CAAE;AAAA,SACjC,+hBADiC;AAAA,CAAF,CAAhC;AAGA,IAAMgF,gBAAgB,GAAGhF,+DAAI,CAAE;AAAA,SAC9B,2KAD8B;AAAA,CAAF,CAA7B;AAGA,IAAMiF,oBAAoB,GAAGjF,+DAAI,CAAE;AAAA,SAClC,+LADkC;AAAA,CAAF,CAAjC;;AAIA,IAAMkF,eAAe,GAAG,SAAlBA,eAAkB,CAAExI,KAAF;AAAA,SACvB,yEAAC,2DAAD;AAAU,YAAQ,EAAG,yEAAC,+DAAD;AAArB,KACC,yEAAC,mBAAD,EAA0BA,KAA1B,CADD,CADuB;AAAA,CAAxB;;AAMA,IAAMyI,YAAY,GAAG,SAAfA,YAAe,CAAEzI,KAAF;AAAA,SACpB,yEAAC,2DAAD;AAAU,YAAQ,EAAG,yEAAC,+DAAD;AAArB,KACC,yEAAC,gBAAD,EAAuBA,KAAvB,CADD,CADoB;AAAA,CAArB;;AAMA,IAAM0I,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAE1I,KAAF;AAAA,SACxB,yEAAC,2DAAD;AAAU,YAAQ,EAAG,yEAAC,+DAAD;AAArB,KACC,yEAAC,oBAAD,EAA2BA,KAA3B,CADD,CADwB;AAAA,CAAzB;;AAMA,IAAM2I,uBAAuB,GAAG,wCAAhC;AAEenF,oIAAY,CAAEmF,uBAAF,EAA2B,CACrD;AACCrI,KAAG,EAAE,mBADN;AAECuG,WAAS,EAAE6B,gBAFZ;AAGCnD,OAAK,EAAEiB,0DAAE,CAAE,aAAF,EAAiB,mBAAjB,CAHV;AAICT,WAAS,EAAE,IAJZ;AAKCY,MAAI,EAAE,iBALP;AAMCtB,cAAY,EAAE,CACb,gBADa,EAEb,sBAFa,EAGb,0BAHa,EAIb,iBAJa,EAKb,iBALa,EAMb,oBANa,EAOb,kBAPa,EAQb,wBARa,EASb,iBATa,EAUb,qBAVa;AANf,CADqD,EAoBrD;AACC/E,KAAG,EAAE,QADN;AAECuG,WAAS,EAAE2B,eAFZ;AAGCjD,OAAK,EAAEiB,0DAAE,CAAE,QAAF,EAAY,mBAAZ,CAHV;AAICT,WAAS,EAAE,IAJZ;AAKCY,MAAI,EAAE,WALP;AAMCtB,cAAY,EAAE,CACb,wBADa,EAEb,qBAFa,EAGb,qBAHa,EAIb,qBAJa,EAKb,iBALa,EAMb,gBANa,EAOb,sBAPa,EAQb,kBARa,EASb,iBATa,EAUb,iBAVa,EAWb,oBAXa,EAYb,0BAZa;AANf,CApBqD,EAyCrD;AACC/E,KAAG,EAAE,cADN;AAECuG,WAAS,EAAE4B,YAFZ;AAGClD,OAAK,EAAEiB,0DAAE,CAAE,cAAF,EAAkB,mBAAlB,CAHV;AAICT,WAAS,EAAE,IAJZ;AAKCY,MAAI,EAAE,WALP;AAMCtB,cAAY,EAAE,CAAE,SAAF,EAAa,WAAb;AANf,CAzCqD,CAA3B,CAA3B,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzCA;;;AAGA;AACA;AACA;AAEA;;;;AAGA;;IAEMuD,e;;;;;AACL,2BAAa5I,KAAb,EAAqB;AAAA;;AAAA;;AACpB,8BAAOA,KAAP;AACA,UAAK6I,QAAL,GAAgB,MAAKA,QAAL,CAAclJ,IAAd,4FAAhB;AACA,UAAKmJ,UAAL,GAAkB,MAAKA,UAAL,CAAgBnJ,IAAhB,4FAAlB;AAHoB;AAIpB;;;;+BAEU;AAAA,wBACmB,KAAKK,KADxB;AAAA,UACF8D,MADE,eACFA,MADE;AAAA,UACM0B,QADN,eACMA,QADN;AAEV1B,YAAM,CAAE,CAAC,CAAH,CAAN,CAFU,CAGV;;AACA0B,cAAQ;AACR;;;iCAEY;AAAA,yBACiB,KAAKxF,KADtB;AAAA,UACJ8D,MADI,gBACJA,MADI;AAAA,UACI0B,QADJ,gBACIA,QADJ;AAEZ1B,YAAM,CAAE,CAAF,CAAN,CAFY,CAGZ;;AACA0B,cAAQ;AACR;;;6BAEQ;AAAA,yBAQJ,KAAKxF,KARD;AAAA,UAEP+I,QAFO,gBAEPA,QAFO;AAAA,UAGPC,OAHO,gBAGPA,OAHO;AAAA,UAIPC,MAJO,gBAIPA,MAJO;AAAA,UAKPC,WALO,gBAKPA,WALO;AAAA,UAMPC,aANO,gBAMPA,aANO;AAAA,UAOPC,UAPO,gBAOPA,UAPO;AAUR,aACC,yEAAC,2DAAD,QACC;AAAK,iBAAS,EAAC;AAAf,SACC,yEAAC,iEAAD;AACC,aAAK,EAAG5C,0DAAE,CAAE,eAAF,EAAmB,mBAAnB,CADX;AAEC,cAAM,EAAG0C,WAFV;AAGC,gBAAQ,EAAGC,aAHZ;AAIC,gBAAQ,MAJT;AAKC,aAAK,EAAGC;AALT,QADD,CADD,EAUC;AAAK,iBAAS,EAAC;AAAf,SACG,CAAEJ,OAAF,IACD,yEAAC,gEAAD;AAAU,mBAAW,MAArB;AAAsB,gBAAQ,EAAG,KAAKH;AAAtC,SACC,yEAAC,0DAAD;AACC,YAAI,EAAG,eADR;AAEC,aAAK,EAAGrC,0DAAE,CAAE,SAAF;AAFX,QADD,EAKGA,0DAAE,CAAE,SAAF,EAAa,mBAAb,CALL,CAFF,EAUG,CAAEyC,MAAF,IACD,yEAAC,gEAAD;AAAU,mBAAW,MAArB;AAAsB,gBAAQ,EAAG,KAAKH;AAAtC,SACC,yEAAC,0DAAD;AACC,YAAI,EAAG,iBADR;AAEC,aAAK,EAAGtC,0DAAE,CAAE,WAAF;AAFX,QADD,EAKGA,0DAAE,CAAE,WAAF,EAAe,mBAAf,CALL,CAXF,EAmBC,yEAAC,gEAAD;AAAU,mBAAW,MAArB;AAAsB,gBAAQ,EAAGuC;AAAjC,SACC,yEAAC,0DAAD;AAAM,YAAI,EAAG,OAAb;AAAuB,aAAK,EAAGvC,0DAAE,CAAE,cAAF;AAAjC,QADD,EAEGA,0DAAE,CAAE,gBAAF,EAAoB,mBAApB,CAFL,CAnBD,CAVD,CADD;AAqCA;;;;EApE4BlE,4D;;AAuEfsG,8EAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnFA;;;AAGA;AACA;AAEA;;;;AAGA;;IAEqBS,O;;;;;AACpB,mBAAarJ,KAAb,EAAqB;AAAA;;AAAA;;AACpB,8BAAOA,KAAP;AADoB,QAEZuF,KAFY,GAEFvF,KAFE,CAEZuF,KAFY;AAIpB,UAAK7B,KAAL,GAAa;AACZ0F,gBAAU,EAAE7D;AADA,KAAb;AAIA,UAAK+D,mBAAL,GAA2B,MAAKA,mBAAL,CAAyB3J,IAAzB,4FAA3B;AACA,UAAKwJ,aAAL,GAAqB,MAAKA,aAAL,CAAmBxJ,IAAnB,4FAArB;AACA,UAAKuJ,WAAL,GAAmB,MAAKA,WAAL,CAAiBvJ,IAAjB,4FAAnB;AAVoB;AAWpB;;;;kCAEc2F,Y,EAAe;AAC7B,WAAKR,QAAL,CAAe;AAAEsE,kBAAU,EAAE9D;AAAd,OAAf;AACA;;;kCAEa;AAAA,wBACoB,KAAKtF,KADzB;AAAA,UACLuJ,aADK,eACLA,aADK;AAAA,UACUhE,KADV,eACUA,KADV;AAAA,UAEL6D,UAFK,GAEU,KAAK1F,KAFf,CAEL0F,UAFK;;AAIb,UAAKA,UAAU,KAAK,EAApB,EAAyB;AACxB,aAAKtE,QAAL,CAAe;AAAEsE,oBAAU,EAAE7D;AAAd,SAAf;AACA,OAFD,MAEO,IAAKgE,aAAL,EAAqB;AAC3BA,qBAAa,CAAEH,UAAF,CAAb;AACA;AACD;;;wCAEoB9I,G,EAAM;AAAA;;AAC1B,aAAO,YAAM;AACZ,YAAM+E,YAAY,GAAGmE,kDAAG,CAAE,MAAI,CAACxJ,KAAL,CAAWqF,YAAb,EAA2B,CAAE/E,GAAF,CAA3B,CAAxB;;AACA,cAAI,CAACN,KAAL,CAAW8G,oBAAX,CAAiCzB,YAAjC;AACA,OAHD;AAIA;;;6BAEQ;AAAA,yBAIJ,KAAKrF,KAJD;AAAA,UAEIyJ,gBAFJ,gBAEP5C,SAFO;AAAA,UAGJ7G,KAHI;;AAAA,UAKAoJ,UALA,GAKe,KAAK1F,KALpB,CAKA0F,UALA;AAOR,aACC;AAAK,iBAAS,EAAC;AAAf,SACC,yEAAC,gBAAD;AACC,qBAAa,EAAG,KAAKD,aADtB;AAEC,mBAAW,EAAG,KAAKD,WAFpB;AAGC,2BAAmB,EAAG,KAAKI,mBAH5B;AAIC,kBAAU,EAAGF,UAJd;AAKC,gBAAQ,EAAGR,0DAAeA;AAL3B,SAMM5I,KANN,EADD,CADD;AAYA;;;;EAvDmCsC,4D","file":"chunks/customizable-dashboard.1d2b41f87164bbccc35f.min.js","sourcesContent":["/**\n * External dependencies\n */\nimport { Component } from '@wordpress/element';\nimport PropTypes from 'prop-types';\nimport { omitBy, isUndefined, snakeCase } from 'lodash';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * WooCommerce dependencies\n */\nimport { ReportFilters as Filters } from '@woocommerce/components';\nimport { LOCALE } from '@woocommerce/wc-admin-settings';\nimport { SETTINGS_STORE_NAME } from '@woocommerce/data';\n\n/**\n * Internal dependencies\n */\nimport { recordEvent } from 'lib/tracks';\nimport {\n\tgetCurrentDates,\n\tgetDateParamsFromQuery,\n\tisoDateFormat,\n} from 'lib/date';\nimport { CurrencyContext } from 'lib/currency-context';\n\nclass ReportFilters extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.trackDateSelect = this.trackDateSelect.bind( this );\n\t\tthis.trackFilterSelect = this.trackFilterSelect.bind( this );\n\t\tthis.trackAdvancedFilterAction = this.trackAdvancedFilterAction.bind(\n\t\t\tthis\n\t\t);\n\t}\n\n\ttrackDateSelect( data ) {\n\t\tconst { report } = this.props;\n\t\trecordEvent( 'datepicker_update', {\n\t\t\treport,\n\t\t\t...omitBy( data, isUndefined ),\n\t\t} );\n\t}\n\n\ttrackFilterSelect( data ) {\n\t\tconst { report } = this.props;\n\t\trecordEvent( 'analytics_filter', {\n\t\t\treport,\n\t\t\tfilter: data.filter || 'all',\n\t\t} );\n\t}\n\n\ttrackAdvancedFilterAction( action, data ) {\n\t\tconst { report } = this.props;\n\n\t\tswitch ( action ) {\n\t\t\tcase 'add':\n\t\t\t\trecordEvent( 'analytics_filters_add', {\n\t\t\t\t\treport,\n\t\t\t\t\tfilter: data.key,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'remove':\n\t\t\t\trecordEvent( 'analytics_filters_remove', {\n\t\t\t\t\treport,\n\t\t\t\t\tfilter: data.key,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'filter':\n\t\t\t\tconst snakeCaseData = Object.keys( data ).reduce(\n\t\t\t\t\t( result, property ) => {\n\t\t\t\t\t\tresult[ snakeCase( property ) ] = data[ property ];\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t);\n\t\t\t\trecordEvent( 'analytics_filters_filter', {\n\t\t\t\t\treport,\n\t\t\t\t\tsnakeCaseData,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'clear_all':\n\t\t\t\trecordEvent( 'analytics_filters_clear_all', { report } );\n\t\t\t\tbreak;\n\t\t\tcase 'match':\n\t\t\t\trecordEvent( 'analytics_filters_all_any', {\n\t\t\t\t\treport,\n\t\t\t\t\tvalue: data.match,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tadvancedFilters,\n\t\t\tfilters,\n\t\t\tpath,\n\t\t\tquery,\n\t\t\tshowDatePicker,\n\t\t\tdefaultDateRange,\n\t\t} = this.props;\n\t\tconst { period, compare, before, after } = getDateParamsFromQuery(\n\t\t\tquery,\n\t\t\tdefaultDateRange\n\t\t);\n\t\tconst {\n\t\t\tprimary: primaryDate,\n\t\t\tsecondary: secondaryDate,\n\t\t} = getCurrentDates( query, defaultDateRange );\n\t\tconst dateQuery = {\n\t\t\tperiod,\n\t\t\tcompare,\n\t\t\tbefore,\n\t\t\tafter,\n\t\t\tprimaryDate,\n\t\t\tsecondaryDate,\n\t\t};\n\t\tconst Currency = this.context;\n\n\t\treturn (\n\t\t\t<Filters\n\t\t\t\tquery={ query }\n\t\t\t\tsiteLocale={ LOCALE.siteLocale }\n\t\t\t\tcurrency={ Currency }\n\t\t\t\tpath={ path }\n\t\t\t\tfilters={ filters }\n\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\tshowDatePicker={ showDatePicker }\n\t\t\t\tonDateSelect={ this.trackDateSelect }\n\t\t\t\tonFilterSelect={ this.trackFilterSelect }\n\t\t\t\tonAdvancedFilterAction={ this.trackAdvancedFilterAction }\n\t\t\t\tdateQuery={ dateQuery }\n\t\t\t\tisoDateFormat={ isoDateFormat }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nReportFilters.contextType = CurrencyContext;\n\nexport default withSelect( ( select ) => {\n\tconst { woocommerce_default_date_range: defaultDateRange } = select(\n\t\tSETTINGS_STORE_NAME\n\t).getSetting( 'wc_admin', 'wcAdminSettings' );\n\treturn { defaultDateRange };\n} )( ReportFilters );\n\nReportFilters.propTypes = {\n\t/**\n\t * Config option passed through to `AdvancedFilters`\n\t */\n\tadvancedFilters: PropTypes.object,\n\t/**\n\t * Config option passed through to `FilterPicker` - if not used, `FilterPicker` is not displayed.\n\t */\n\tfilters: PropTypes.array,\n\t/**\n\t * The `path` parameter supplied by React-Router\n\t */\n\tpath: PropTypes.string.isRequired,\n\t/**\n\t * The query string represented in object form\n\t */\n\tquery: PropTypes.object,\n\t/**\n\t * Whether the date picker must be shown..\n\t */\n\tshowDatePicker: PropTypes.bool,\n\t/**\n\t * The report where filter are placed.\n\t */\n\treport: PropTypes.string.isRequired,\n};\n","/**\n * External dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Component, Fragment, Suspense, lazy } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { partial, get } from 'lodash';\nimport { IconButton, Icon, Dropdown, Button } from '@wordpress/components';\nimport { withDispatch } from '@wordpress/data';\nimport { applyFilters } from '@wordpress/hooks';\n\n/**\n * WooCommerce dependencies\n */\nimport { H, Spinner } from '@woocommerce/components';\nimport { SETTINGS_STORE_NAME } from '@woocommerce/data';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport defaultSections from './default-sections';\nimport Section from './section';\nimport withSelect from 'wc-api/with-select';\nimport { recordEvent } from 'lib/tracks';\nimport { isOnboardingEnabled } from 'dashboard/utils';\nimport {\n\tgetCurrentDates,\n\tgetDateParamsFromQuery,\n\tisoDateFormat,\n} from 'lib/date';\nimport ReportFilters from 'analytics/components/report-filters';\n\nconst TaskList = lazy( () =>\n\timport( /* webpackChunkName: \"task-list\" */ './task-list' )\n);\n\nconst DASHBOARD_FILTERS_FILTER = 'woocommerce_admin_dashboard_filters';\nconst filters = applyFilters( DASHBOARD_FILTERS_FILTER, [] );\n\nclass CustomizableDashboard extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tsections: this.mergeSectionsWithDefaults( props.userPrefSections ),\n\t\t};\n\n\t\tthis.onMove = this.onMove.bind( this );\n\t\tthis.updateSection = this.updateSection.bind( this );\n\t}\n\n\tmergeSectionsWithDefaults( prefSections ) {\n\t\tif ( ! prefSections || prefSections.length === 0 ) {\n\t\t\treturn defaultSections;\n\t\t}\n\t\tconst defaultKeys = defaultSections.map( ( section ) => section.key );\n\t\tconst prefKeys = prefSections.map( ( section ) => section.key );\n\t\tconst keys = new Set( [ ...prefKeys, ...defaultKeys ] );\n\t\tconst sections = [];\n\n\t\tkeys.forEach( ( key ) => {\n\t\t\tconst defaultSection = defaultSections.find(\n\t\t\t\t( section ) => section.key === key\n\t\t\t);\n\t\t\tif ( ! defaultSection ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst prefSection = prefSections.find(\n\t\t\t\t( section ) => section.key === key\n\t\t\t);\n\n\t\t\tsections.push( {\n\t\t\t\t...defaultSection,\n\t\t\t\t...prefSection,\n\t\t\t} );\n\t\t} );\n\n\t\treturn sections;\n\t}\n\n\tupdateSections( newSections ) {\n\t\tthis.setState( { sections: newSections } );\n\t\tthis.props.updateCurrentUserData( { dashboard_sections: newSections } );\n\t}\n\n\tupdateSection( updatedKey, newSettings ) {\n\t\tconst newSections = this.state.sections.map( ( section ) => {\n\t\t\tif ( section.key === updatedKey ) {\n\t\t\t\treturn {\n\t\t\t\t\t...section,\n\t\t\t\t\t...newSettings,\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn section;\n\t\t} );\n\t\tthis.updateSections( newSections );\n\t}\n\n\tonChangeHiddenBlocks( updatedKey ) {\n\t\treturn ( updatedHiddenBlocks ) => {\n\t\t\tthis.updateSection( updatedKey, {\n\t\t\t\thiddenBlocks: updatedHiddenBlocks,\n\t\t\t} );\n\t\t};\n\t}\n\n\tonSectionTitleUpdate( updatedKey ) {\n\t\treturn ( updatedTitle ) => {\n\t\t\trecordEvent( 'dash_section_rename', { key: updatedKey } );\n\t\t\tthis.updateSection( updatedKey, { title: updatedTitle } );\n\t\t};\n\t}\n\n\ttoggleVisibility( key, onToggle ) {\n\t\treturn () => {\n\t\t\tif ( onToggle ) {\n\t\t\t\t// Close the dropdown before setting state so an action is not performed on an unmounted component.\n\t\t\t\tonToggle();\n\t\t\t}\n\t\t\t// When toggling visibility, place section at the end of the array.\n\t\t\tconst sections = [ ...this.state.sections ];\n\t\t\tconst index = sections.findIndex( ( s ) => key === s.key );\n\t\t\tconst toggledSection = sections.splice( index, 1 ).shift();\n\t\t\ttoggledSection.isVisible = ! toggledSection.isVisible;\n\t\t\tsections.push( toggledSection );\n\n\t\t\tif ( toggledSection.isVisible ) {\n\t\t\t\trecordEvent( 'dash_section_add', { key: toggledSection.key } );\n\t\t\t} else {\n\t\t\t\trecordEvent( 'dash_section_remove', {\n\t\t\t\t\tkey: toggledSection.key,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tthis.updateSections( sections );\n\t\t};\n\t}\n\n\tonMove( index, change ) {\n\t\tconst sections = [ ...this.state.sections ];\n\t\tconst movedSection = sections.splice( index, 1 ).shift();\n\t\tconst newIndex = index + change;\n\n\t\t// Figure out the index of the skipped section.\n\t\tconst nextJumpedSectionIndex = change < 0 ? newIndex : newIndex - 1;\n\n\t\tif (\n\t\t\tsections[ nextJumpedSectionIndex ].isVisible || // Is the skipped section visible?\n\t\t\tindex === 0 || // Will this be the first element?\n\t\t\tindex === sections.length - 1 // Will this be the last element?\n\t\t) {\n\t\t\t// Yes, lets insert.\n\t\t\tsections.splice( newIndex, 0, movedSection );\n\t\t\tthis.updateSections( sections );\n\n\t\t\tconst eventProps = {\n\t\t\t\tkey: movedSection.key,\n\t\t\t\tdirection: change > 0 ? 'down' : 'up',\n\t\t\t};\n\t\t\trecordEvent( 'dash_section_order_change', eventProps );\n\t\t} else {\n\t\t\t// No, lets try the next one.\n\t\t\tthis.onMove( index, change + change );\n\t\t}\n\t}\n\n\trenderAddMore() {\n\t\tconst { sections } = this.state;\n\t\tconst hiddenSections = sections.filter(\n\t\t\t( section ) => section.isVisible === false\n\t\t);\n\n\t\tif ( hiddenSections.length === 0 ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t\tposition=\"top center\"\n\t\t\t\tclassName=\"woocommerce-dashboard-section__add-more\"\n\t\t\t\trenderToggle={ ( { onToggle, isOpen } ) => (\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\ticon=\"plus-alt\"\n\t\t\t\t\t\ttitle={ __( 'Add more sections', 'woocommerce-admin' ) }\n\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onToggle } ) => (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<H>\n\t\t\t\t\t\t\t{ __( 'Dashboard Sections', 'woocommerce-admin' ) }\n\t\t\t\t\t\t</H>\n\t\t\t\t\t\t<div className=\"woocommerce-dashboard-section__add-more-choices\">\n\t\t\t\t\t\t\t{ hiddenSections.map( ( section ) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tkey={ section.key }\n\t\t\t\t\t\t\t\t\t\tonClick={ this.toggleVisibility(\n\t\t\t\t\t\t\t\t\t\t\tsection.key,\n\t\t\t\t\t\t\t\t\t\t\tonToggle\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tclassName=\"woocommerce-dashboard-section__add-more-btn\"\n\t\t\t\t\t\t\t\t\t\ttitle={ sprintf(\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'Add %s section',\n\t\t\t\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tsection.title\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\ticon={ section.icon }\n\t\t\t\t\t\t\t\t\t\t\tsize={ 30 }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<span className=\"woocommerce-dashboard-section__add-more-btn-title\">\n\t\t\t\t\t\t\t\t\t\t\t{ section.title }\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Fragment>\n\t\t\t\t) }\n\t\t\t/>\n\t\t);\n\t}\n\n\trenderDashboardReports() {\n\t\tconst { query, path, defaultDateRange } = this.props;\n\t\tconst { sections } = this.state;\n\t\tconst { period, compare, before, after } = getDateParamsFromQuery(\n\t\t\tquery,\n\t\t\tdefaultDateRange\n\t\t);\n\t\tconst {\n\t\t\tprimary: primaryDate,\n\t\t\tsecondary: secondaryDate,\n\t\t} = getCurrentDates( query, defaultDateRange );\n\t\tconst dateQuery = {\n\t\t\tperiod,\n\t\t\tcompare,\n\t\t\tbefore,\n\t\t\tafter,\n\t\t\tprimaryDate,\n\t\t\tsecondaryDate,\n\t\t};\n\t\tconst visibleSectionKeys = sections\n\t\t\t.filter( ( section ) => section.isVisible )\n\t\t\t.map( ( section ) => section.key );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ReportFilters\n\t\t\t\t\treport=\"dashboard\"\n\t\t\t\t\tquery={ query }\n\t\t\t\t\tpath={ path }\n\t\t\t\t\tdateQuery={ dateQuery }\n\t\t\t\t\tisoDateFormat={ isoDateFormat }\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t/>\n\t\t\t\t{ sections.map( ( section, index ) => {\n\t\t\t\t\tif ( section.isVisible ) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Section\n\t\t\t\t\t\t\t\tcomponent={ section.component }\n\t\t\t\t\t\t\t\thiddenBlocks={ section.hiddenBlocks }\n\t\t\t\t\t\t\t\tkey={ section.key }\n\t\t\t\t\t\t\t\tonChangeHiddenBlocks={ this.onChangeHiddenBlocks(\n\t\t\t\t\t\t\t\t\tsection.key\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tonTitleUpdate={ this.onSectionTitleUpdate(\n\t\t\t\t\t\t\t\t\tsection.key\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tpath={ path }\n\t\t\t\t\t\t\t\tquery={ query }\n\t\t\t\t\t\t\t\ttitle={ section.title }\n\t\t\t\t\t\t\t\tonMove={ partial( this.onMove, index ) }\n\t\t\t\t\t\t\t\tonRemove={ this.toggleVisibility(\n\t\t\t\t\t\t\t\t\tsection.key\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tisFirst={\n\t\t\t\t\t\t\t\t\tsection.key === visibleSectionKeys[ 0 ]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tisLast={\n\t\t\t\t\t\t\t\t\tsection.key ===\n\t\t\t\t\t\t\t\t\tvisibleSectionKeys[\n\t\t\t\t\t\t\t\t\t\tvisibleSectionKeys.length - 1\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t} ) }\n\t\t\t\t{ this.renderAddMore() }\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { query, taskListHidden, taskListComplete } = this.props;\n\n\t\tconst isTaskListEnabled = isOnboardingEnabled() && ! taskListHidden;\n\n\t\tconst isDashboardShown =\n\t\t\t! isTaskListEnabled || ( ! query.task && taskListComplete );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{ isTaskListEnabled && (\n\t\t\t\t\t<Suspense fallback={ <Spinner /> }>\n\t\t\t\t\t\t<TaskList\n\t\t\t\t\t\t\tquery={ query }\n\t\t\t\t\t\t\tinline={ isDashboardShown }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Suspense>\n\t\t\t\t) }\n\t\t\t\t{ isDashboardShown && this.renderDashboardReports() }\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetCurrentUserData,\n\t\t\tisGetProfileItemsRequesting,\n\t\t\tgetOptions,\n\t\t\tisGetOptionsRequesting,\n\t\t} = select( 'wc-api' );\n\t\tconst userData = getCurrentUserData();\n\t\tconst { woocommerce_default_date_range: defaultDateRange } = select(\n\t\t\tSETTINGS_STORE_NAME\n\t\t).getSetting( 'wc_admin', 'wcAdminSettings' );\n\n\t\tconst withSelectData = {\n\t\t\tuserPrefSections: userData.dashboard_sections,\n\t\t\tdefaultDateRange,\n\t\t\trequesting: false,\n\t\t};\n\n\t\tif ( isOnboardingEnabled() ) {\n\t\t\tconst options = getOptions( [\n\t\t\t\t'woocommerce_task_list_complete',\n\t\t\t\t'woocommerce_task_list_hidden',\n\t\t\t] );\n\t\t\twithSelectData.taskListHidden =\n\t\t\t\tget( options, [ 'woocommerce_task_list_hidden' ], 'no' ) ===\n\t\t\t\t'yes';\n\t\t\twithSelectData.taskListComplete = get(\n\t\t\t\toptions,\n\t\t\t\t[ 'woocommerce_task_list_complete' ],\n\t\t\t\tfalse\n\t\t\t);\n\t\t\twithSelectData.requesting =\n\t\t\t\twithSelectData.requesting || isGetProfileItemsRequesting();\n\t\t\twithSelectData.requesting =\n\t\t\t\twithSelectData.requesting ||\n\t\t\t\tisGetOptionsRequesting( [\n\t\t\t\t\t'woocommerce_task_list_payments',\n\t\t\t\t\t'woocommerce_task_list_hidden',\n\t\t\t\t] );\n\t\t}\n\n\t\treturn withSelectData;\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { updateCurrentUserData } = dispatch( 'wc-api' );\n\n\t\treturn {\n\t\t\tupdateCurrentUserData,\n\t\t};\n\t} )\n)( CustomizableDashboard );\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { applyFilters } from '@wordpress/hooks';\nimport { lazy, Suspense } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Spinner } from '@woocommerce/components';\nconst LazyDashboardCharts = lazy( () =>\n\timport( /* webpackChunkName: \"dashboard-charts\" */ './dashboard-charts' )\n);\nconst LazyLeaderboards = lazy( () =>\n\timport( /* webpackChunkName: \"leaderboards\" */ './leaderboards' )\n);\nconst LazyStorePerformance = lazy( () =>\n\timport( /* webpackChunkName: \"store-performance\" */ './store-performance' )\n);\n\nconst DashboardCharts = ( props ) => (\n\t<Suspense fallback={ <Spinner /> }>\n\t\t<LazyDashboardCharts { ...props } />\n\t</Suspense>\n);\n\nconst Leaderboards = ( props ) => (\n\t<Suspense fallback={ <Spinner /> }>\n\t\t<LazyLeaderboards { ...props } />\n\t</Suspense>\n);\n\nconst StorePerformance = ( props ) => (\n\t<Suspense fallback={ <Spinner /> }>\n\t\t<LazyStorePerformance { ...props } />\n\t</Suspense>\n);\n\nconst DEFAULT_SECTIONS_FILTER = 'woocommerce_dashboard_default_sections';\n\nexport default applyFilters( DEFAULT_SECTIONS_FILTER, [\n\t{\n\t\tkey: 'store-performance',\n\t\tcomponent: StorePerformance,\n\t\ttitle: __( 'Performance', 'woocommerce-admin' ),\n\t\tisVisible: true,\n\t\ticon: 'arrow-right-alt',\n\t\thiddenBlocks: [\n\t\t\t'coupons/amount',\n\t\t\t'coupons/orders_count',\n\t\t\t'downloads/download_count',\n\t\t\t'taxes/order_tax',\n\t\t\t'taxes/total_tax',\n\t\t\t'taxes/shipping_tax',\n\t\t\t'revenue/shipping',\n\t\t\t'orders/avg_order_value',\n\t\t\t'revenue/refunds',\n\t\t\t'revenue/gross_sales',\n\t\t],\n\t},\n\t{\n\t\tkey: 'charts',\n\t\tcomponent: DashboardCharts,\n\t\ttitle: __( 'Charts', 'woocommerce-admin' ),\n\t\tisVisible: true,\n\t\ticon: 'chart-bar',\n\t\thiddenBlocks: [\n\t\t\t'orders_avg_order_value',\n\t\t\t'avg_items_per_order',\n\t\t\t'products_items_sold',\n\t\t\t'revenue_total_sales',\n\t\t\t'revenue_refunds',\n\t\t\t'coupons_amount',\n\t\t\t'coupons_orders_count',\n\t\t\t'revenue_shipping',\n\t\t\t'taxes_total_tax',\n\t\t\t'taxes_order_tax',\n\t\t\t'taxes_shipping_tax',\n\t\t\t'downloads_download_count',\n\t\t],\n\t},\n\t{\n\t\tkey: 'leaderboards',\n\t\tcomponent: Leaderboards,\n\t\ttitle: __( 'Leaderboards', 'woocommerce-admin' ),\n\t\tisVisible: true,\n\t\ticon: 'editor-ol',\n\t\thiddenBlocks: [ 'coupons', 'customers' ],\n\t},\n] );\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Icon, TextControl } from '@wordpress/components';\nimport { Component, Fragment } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { MenuItem } from '@woocommerce/components';\n\nclass SectionControls extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.onMoveUp = this.onMoveUp.bind( this );\n\t\tthis.onMoveDown = this.onMoveDown.bind( this );\n\t}\n\n\tonMoveUp() {\n\t\tconst { onMove, onToggle } = this.props;\n\t\tonMove( -1 );\n\t\t// Close the dropdown\n\t\tonToggle();\n\t}\n\n\tonMoveDown() {\n\t\tconst { onMove, onToggle } = this.props;\n\t\tonMove( 1 );\n\t\t// Close the dropdown\n\t\tonToggle();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tonRemove,\n\t\t\tisFirst,\n\t\t\tisLast,\n\t\t\tonTitleBlur,\n\t\t\tonTitleChange,\n\t\t\ttitleInput,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"woocommerce-ellipsis-menu__item\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ __( 'Section Title', 'woocommerce-admin' ) }\n\t\t\t\t\t\tonBlur={ onTitleBlur }\n\t\t\t\t\t\tonChange={ onTitleChange }\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tvalue={ titleInput }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"woocommerce-dashboard-section-controls\">\n\t\t\t\t\t{ ! isFirst && (\n\t\t\t\t\t\t<MenuItem isClickable onInvoke={ this.onMoveUp }>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\ticon={ 'arrow-up-alt2' }\n\t\t\t\t\t\t\t\tlabel={ __( 'Move up' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ __( 'Move up', 'woocommerce-admin' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! isLast && (\n\t\t\t\t\t\t<MenuItem isClickable onInvoke={ this.onMoveDown }>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\ticon={ 'arrow-down-alt2' }\n\t\t\t\t\t\t\t\tlabel={ __( 'Move Down' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ __( 'Move Down', 'woocommerce-admin' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t) }\n\t\t\t\t\t<MenuItem isClickable onInvoke={ onRemove }>\n\t\t\t\t\t\t<Icon icon={ 'trash' } label={ __( 'Remove block' ) } />\n\t\t\t\t\t\t{ __( 'Remove section', 'woocommerce-admin' ) }\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default SectionControls;\n","/**\n * External dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { xor } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport SectionControls from './section-controls';\n\nexport default class Section extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tconst { title } = props;\n\n\t\tthis.state = {\n\t\t\ttitleInput: title,\n\t\t};\n\n\t\tthis.onToggleHiddenBlock = this.onToggleHiddenBlock.bind( this );\n\t\tthis.onTitleChange = this.onTitleChange.bind( this );\n\t\tthis.onTitleBlur = this.onTitleBlur.bind( this );\n\t}\n\n\tonTitleChange( updatedTitle ) {\n\t\tthis.setState( { titleInput: updatedTitle } );\n\t}\n\n\tonTitleBlur() {\n\t\tconst { onTitleUpdate, title } = this.props;\n\t\tconst { titleInput } = this.state;\n\n\t\tif ( titleInput === '' ) {\n\t\t\tthis.setState( { titleInput: title } );\n\t\t} else if ( onTitleUpdate ) {\n\t\t\tonTitleUpdate( titleInput );\n\t\t}\n\t}\n\n\tonToggleHiddenBlock( key ) {\n\t\treturn () => {\n\t\t\tconst hiddenBlocks = xor( this.props.hiddenBlocks, [ key ] );\n\t\t\tthis.props.onChangeHiddenBlocks( hiddenBlocks );\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcomponent: SectionComponent,\n\t\t\t...props\n\t\t} = this.props;\n\t\tconst { titleInput } = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"woocommerce-dashboard-section\">\n\t\t\t\t<SectionComponent\n\t\t\t\t\tonTitleChange={ this.onTitleChange }\n\t\t\t\t\tonTitleBlur={ this.onTitleBlur }\n\t\t\t\t\tonToggleHiddenBlock={ this.onToggleHiddenBlock }\n\t\t\t\t\ttitleInput={ titleInput }\n\t\t\t\t\tcontrols={ SectionControls }\n\t\t\t\t\t{ ...props }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"],"sourceRoot":""}