{"version":3,"sources":["webpack://wc.[modulename]/./client/analytics/components/report-error/index.js","webpack://wc.[modulename]/./client/analytics/components/report-filters/index.js","webpack://wc.[modulename]/./client/analytics/components/report-table/download-icon.js","webpack://wc.[modulename]/./client/analytics/components/report-table/index.js","webpack://wc.[modulename]/./client/analytics/components/report-table/style.scss?1303","webpack://wc.[modulename]/./client/analytics/components/report-table/utils.js","webpack://wc.[modulename]/./client/lib/currency-context.js"],"names":["ReportError","props","className","isError","isEmpty","title","actionLabel","actionURL","actionCallback","__","window","location","reload","getAdminLink","Component","propTypes","PropTypes","string","bool","defaultProps","ReportFilters","trackDateSelect","bind","trackFilterSelect","trackAdvancedFilterAction","data","report","recordEvent","omitBy","isUndefined","filter","action","key","snakeCaseData","Object","keys","reduce","result","property","snakeCase","value","match","advancedFilters","filters","path","query","showDatePicker","defaultDateRange","getDateParamsFromQuery","period","compare","before","after","getCurrentDates","primaryDate","primary","secondaryDate","secondary","dateQuery","Currency","context","LOCALE","siteLocale","getCurrencyConfig","isoDateFormat","contextType","CurrencyContext","withSelect","select","SETTINGS_STORE_NAME","getSetting","woocommerce_default_date_range","object","array","isRequired","TABLE_FILTER","ReportTable","getHeadersContent","getRowsContent","getSummary","isRequesting","primaryData","tableData","endpoint","itemIdField","tableQuery","compareBy","compareParam","searchBy","labels","tableProps","columnPrefsKey","items","reportQuery","initialSelectedRows","getIdsFromQuery","useState","selectedRows","setSelectedRows","scrollPointRef","useRef","useUserPreferences","updateUserPreferences","userData","userPrefColumns","onPageChange","newPage","source","current","scrollIntoView","tableElement","nextSibling","querySelector","focusableElements","focus","focusable","find","length","page","direction","trackTableSearch","onSort","onQueryChange","eventProps","column","filterShownHeaders","headers","hiddenKeys","map","header","visible","required","hiddenByDefault","includes","onClickDownload","createNotice","startExport","params","assign","totalResults","downloadType","extended_info","search","downloadCSVFile","generateCSVFileName","generateCSVDataFromTable","then","sprintf","catch","error","message","rows","onCompare","join","onSearchChange","values","baseSearchQuery","searchTerms","v","label","replace","updateQueryString","undefined","uniq","selectAllRows","checked","ids","selectRow","i","index","indexOf","slice","getCheckbox","isChecked","display","partial","getAllCheckbox","hasData","isAllChecked","cellClassName","isLoading","totals","get","downloadable","searchWords","getSearchWords","searchedLabels","filteredTableProps","applyFilters","summary","onColumnsChange","shownColumns","toggledColumn","columns","hiddenColumns","userDataFields","status","row","filteredHeaders","classnames","helpText","compareButton","placeholder","downloadButton","parseInt","per_page","QUERY_DEFAULTS","pageSize","extendItemsMethodNames","shape","getError","load","extendedItemsStoreName","func","summaryFields","arrayOf","onSearch","noop","compose","chartEndpoint","getReportChartData","dataType","fields","queriedTableData","getReportTableData","extendedTableData","extendTableData","item","withDispatch","dispatch","EXPORT_STORE_NAME","itemsData","Array","isArray","getErrorMethod","isRequestingMethod","loadMethod","extendQuery","include","extendedItems","isExtendedItemsRequesting","isExtendedItemsError","extendedItemsData","extendedItemData","first","extendedItem","id","appCurrency","CurrencyFactory","CURRENCY","getFilteredCurrencyInstance","config","filteredConfig","createContext"],"mappings":"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","file":"chunks/25.min.js","sourcesContent":["/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport PropTypes from 'prop-types';\nimport { EmptyContent } from '@woocommerce/components';\nimport { getAdminLink } from '@woocommerce/wc-admin-settings';\n\n/**\n * Component to render when there is an error in a report component due to data\n * not being loaded or being invalid.\n */\nclass ReportError extends Component {\n\trender() {\n\t\tconst { className, isError, isEmpty } = this.props;\n\t\tlet title, actionLabel, actionURL, actionCallback;\n\n\t\tif ( isError ) {\n\t\t\ttitle = __(\n\t\t\t\t'There was an error getting your stats. Please try again.',\n\t\t\t\t'woocommerce-admin'\n\t\t\t);\n\t\t\tactionLabel = __( 'Reload', 'woocommerce-admin' );\n\t\t\tactionCallback = () => {\n\t\t\t\t// @todo Add tracking for how often an error is displayed, and the reload action is clicked.\n\t\t\t\twindow.location.reload();\n\t\t\t};\n\t\t} else if ( isEmpty ) {\n\t\t\ttitle = __(\n\t\t\t\t'No results could be found for this date range.',\n\t\t\t\t'woocommerce-admin'\n\t\t\t);\n\t\t\tactionLabel = __( 'View Orders', 'woocommerce-admin' );\n\t\t\tactionURL = getAdminLink( 'edit.php?post_type=shop_order' );\n\t\t}\n\t\treturn (\n\t\t\t<EmptyContent\n\t\t\t\tclassName={ className }\n\t\t\t\ttitle={ title }\n\t\t\t\tactionLabel={ actionLabel }\n\t\t\t\tactionURL={ actionURL }\n\t\t\t\tactionCallback={ actionCallback }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nReportError.propTypes = {\n\t/**\n\t * Additional class name to style the component.\n\t */\n\tclassName: PropTypes.string,\n\t/**\n\t * Boolean representing whether there was an error.\n\t */\n\tisError: PropTypes.bool,\n\t/**\n\t * Boolean representing whether the issue is that there is no data.\n\t */\n\tisEmpty: PropTypes.bool,\n};\n\nReportError.defaultProps = {\n\tclassName: '',\n};\n\nexport default ReportError;\n","/**\n * External dependencies\n */\nimport { Component } from '@wordpress/element';\nimport PropTypes from 'prop-types';\nimport { omitBy, isUndefined, snakeCase } from 'lodash';\nimport { withSelect } from '@wordpress/data';\nimport { ReportFilters as Filters } from '@woocommerce/components';\nimport { LOCALE } from '@woocommerce/wc-admin-settings';\nimport { SETTINGS_STORE_NAME } from '@woocommerce/data';\nimport {\n\tgetCurrentDates,\n\tgetDateParamsFromQuery,\n\tisoDateFormat,\n} from '@woocommerce/date';\nimport { recordEvent } from '@woocommerce/tracks';\n\n/**\n * Internal dependencies\n */\nimport { CurrencyContext } from '../../../lib/currency-context';\n\nclass ReportFilters extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.trackDateSelect = this.trackDateSelect.bind( this );\n\t\tthis.trackFilterSelect = this.trackFilterSelect.bind( this );\n\t\tthis.trackAdvancedFilterAction = this.trackAdvancedFilterAction.bind(\n\t\t\tthis\n\t\t);\n\t}\n\n\ttrackDateSelect( data ) {\n\t\tconst { report } = this.props;\n\t\trecordEvent( 'datepicker_update', {\n\t\t\treport,\n\t\t\t...omitBy( data, isUndefined ),\n\t\t} );\n\t}\n\n\ttrackFilterSelect( data ) {\n\t\tconst { report } = this.props;\n\t\trecordEvent( 'analytics_filter', {\n\t\t\treport,\n\t\t\tfilter: data.filter || 'all',\n\t\t} );\n\t}\n\n\ttrackAdvancedFilterAction( action, data ) {\n\t\tconst { report } = this.props;\n\n\t\tswitch ( action ) {\n\t\t\tcase 'add':\n\t\t\t\trecordEvent( 'analytics_filters_add', {\n\t\t\t\t\treport,\n\t\t\t\t\tfilter: data.key,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'remove':\n\t\t\t\trecordEvent( 'analytics_filters_remove', {\n\t\t\t\t\treport,\n\t\t\t\t\tfilter: data.key,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'filter':\n\t\t\t\tconst snakeCaseData = Object.keys( data ).reduce(\n\t\t\t\t\t( result, property ) => {\n\t\t\t\t\t\tresult[ snakeCase( property ) ] = data[ property ];\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t);\n\t\t\t\trecordEvent( 'analytics_filters_filter', {\n\t\t\t\t\treport,\n\t\t\t\t\t...snakeCaseData,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'clear_all':\n\t\t\t\trecordEvent( 'analytics_filters_clear_all', { report } );\n\t\t\t\tbreak;\n\t\t\tcase 'match':\n\t\t\t\trecordEvent( 'analytics_filters_all_any', {\n\t\t\t\t\treport,\n\t\t\t\t\tvalue: data.match,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tadvancedFilters,\n\t\t\tfilters,\n\t\t\tpath,\n\t\t\tquery,\n\t\t\tshowDatePicker,\n\t\t\tdefaultDateRange,\n\t\t} = this.props;\n\t\tconst { period, compare, before, after } = getDateParamsFromQuery(\n\t\t\tquery,\n\t\t\tdefaultDateRange\n\t\t);\n\t\tconst {\n\t\t\tprimary: primaryDate,\n\t\t\tsecondary: secondaryDate,\n\t\t} = getCurrentDates( query, defaultDateRange );\n\t\tconst dateQuery = {\n\t\t\tperiod,\n\t\t\tcompare,\n\t\t\tbefore,\n\t\t\tafter,\n\t\t\tprimaryDate,\n\t\t\tsecondaryDate,\n\t\t};\n\t\tconst Currency = this.context;\n\n\t\treturn (\n\t\t\t<Filters\n\t\t\t\tquery={ query }\n\t\t\t\tsiteLocale={ LOCALE.siteLocale }\n\t\t\t\tcurrency={ Currency.getCurrencyConfig() }\n\t\t\t\tpath={ path }\n\t\t\t\tfilters={ filters }\n\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\tshowDatePicker={ showDatePicker }\n\t\t\t\tonDateSelect={ this.trackDateSelect }\n\t\t\t\tonFilterSelect={ this.trackFilterSelect }\n\t\t\t\tonAdvancedFilterAction={ this.trackAdvancedFilterAction }\n\t\t\t\tdateQuery={ dateQuery }\n\t\t\t\tisoDateFormat={ isoDateFormat }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nReportFilters.contextType = CurrencyContext;\n\nexport default withSelect( ( select ) => {\n\tconst { woocommerce_default_date_range: defaultDateRange } = select(\n\t\tSETTINGS_STORE_NAME\n\t).getSetting( 'wc_admin', 'wcAdminSettings' );\n\treturn { defaultDateRange };\n} )( ReportFilters );\n\nReportFilters.propTypes = {\n\t/**\n\t * Config option passed through to `AdvancedFilters`\n\t */\n\tadvancedFilters: PropTypes.object,\n\t/**\n\t * Config option passed through to `FilterPicker` - if not used, `FilterPicker` is not displayed.\n\t */\n\tfilters: PropTypes.array,\n\t/**\n\t * The `path` parameter supplied by React-Router\n\t */\n\tpath: PropTypes.string.isRequired,\n\t/**\n\t * The query string represented in object form\n\t */\n\tquery: PropTypes.object,\n\t/**\n\t * Whether the date picker must be shown..\n\t */\n\tshowDatePicker: PropTypes.bool,\n\t/**\n\t * The report where filter are placed.\n\t */\n\treport: PropTypes.string.isRequired,\n};\n","export default () => (\n\t<svg\n\t\trole=\"img\"\n\t\taria-hidden=\"true\"\n\t\tfocusable=\"false\"\n\t\tversion=\"1.1\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tx=\"0px\"\n\t\ty=\"0px\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<path\n\t\t\td=\"M18,9c-0.009,0-0.017,0.002-0.025,0.003C17.72,5.646,14.922,3,11.5,3C7.91,3,5,5.91,5,9.5c0,0.524,0.069,1.031,0.186,1.519\n\t\t\tC5.123,11.016,5.064,11,5,11c-2.209,0-4,1.791-4,4c0,1.202,0.541,2.267,1.38,3h18.593C22.196,17.089,23,15.643,23,14\n\t\t\tC23,11.239,20.761,9,18,9z M12,16l-4-5h3V8h2v3h3L12,16z\"\n\t\t/>\n\t</svg>\n);\n","/**\n * External dependencies\n */\nimport { CheckboxControl, Button } from '@wordpress/components';\nimport { applyFilters } from '@wordpress/hooks';\nimport { Fragment, useRef, useState } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { focus } from '@wordpress/dom';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { get, noop, partial, uniq } from 'lodash';\nimport { __, sprintf } from '@wordpress/i18n';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { CompareButton, Search, TableCard } from '@woocommerce/components';\nimport {\n\tgetIdsFromQuery,\n\tgetSearchWords,\n\tonQueryChange,\n\tupdateQueryString,\n} from '@woocommerce/navigation';\nimport {\n\tdownloadCSVFile,\n\tgenerateCSVDataFromTable,\n\tgenerateCSVFileName,\n} from '@woocommerce/csv-export';\nimport {\n\tgetReportChartData,\n\tgetReportTableData,\n\tEXPORT_STORE_NAME,\n\tSETTINGS_STORE_NAME,\n\tuseUserPreferences,\n\tQUERY_DEFAULTS,\n} from '@woocommerce/data';\nimport { recordEvent } from '@woocommerce/tracks';\n\n/**\n * Internal dependencies\n */\nimport DownloadIcon from './download-icon';\nimport ReportError from '../report-error';\nimport { extendTableData } from './utils';\nimport './style.scss';\n\nconst TABLE_FILTER = 'woocommerce_admin_report_table';\n\nconst ReportTable = ( props ) => {\n\tconst {\n\t\tgetHeadersContent,\n\t\tgetRowsContent,\n\t\tgetSummary,\n\t\tisRequesting,\n\t\tprimaryData,\n\t\ttableData,\n\t\tendpoint,\n\t\t// These props are not used in the render function, but are destructured\n\t\t// so they are not included in the `tableProps` variable.\n\t\t// eslint-disable-next-line no-unused-vars\n\t\titemIdField,\n\t\t// eslint-disable-next-line no-unused-vars\n\t\ttableQuery,\n\t\tcompareBy,\n\t\tcompareParam,\n\t\tsearchBy,\n\t\tlabels = {},\n\t\t...tableProps\n\t} = props;\n\n\t// Pull these props out separately because they need to be included in tableProps.\n\tconst { query, columnPrefsKey } = props;\n\n\tconst { items, query: reportQuery } = tableData;\n\n\tconst initialSelectedRows = query[ compareParam ]\n\t\t? getIdsFromQuery( query[ compareBy ] )\n\t\t: [];\n\tconst [ selectedRows, setSelectedRows ] = useState( initialSelectedRows );\n\tconst scrollPointRef = useRef( null );\n\n\tconst { updateUserPreferences, ...userData } = useUserPreferences();\n\n\t// Bail early if we've encountered an error.\n\tconst isError = tableData.isError || primaryData.isError;\n\n\tif ( isError ) {\n\t\treturn <ReportError isError />;\n\t}\n\n\tlet userPrefColumns = [];\n\tif ( columnPrefsKey ) {\n\t\tuserPrefColumns =\n\t\t\tuserData && userData[ columnPrefsKey ]\n\t\t\t\t? userData[ columnPrefsKey ]\n\t\t\t\t: userPrefColumns;\n\t}\n\n\tconst onPageChange = ( newPage, source ) => {\n\t\tscrollPointRef.current.scrollIntoView();\n\t\tconst tableElement = scrollPointRef.current.nextSibling.querySelector(\n\t\t\t'.woocommerce-table__table'\n\t\t);\n\t\tconst focusableElements = focus.focusable.find( tableElement );\n\n\t\tif ( focusableElements.length ) {\n\t\t\tfocusableElements[ 0 ].focus();\n\t\t}\n\n\t\tif ( source ) {\n\t\t\tif ( source === 'goto' ) {\n\t\t\t\trecordEvent( 'analytics_table_go_to_page', {\n\t\t\t\t\treport: endpoint,\n\t\t\t\t\tpage: newPage,\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\trecordEvent( 'analytics_table_page_click', {\n\t\t\t\t\treport: endpoint,\n\t\t\t\t\tdirection: source,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t};\n\n\tconst trackTableSearch = () => {\n\t\t// @todo: decide if this should only fire for new tokens (not any/all changes).\n\t\trecordEvent( 'analytics_table_filter', { report: endpoint } );\n\t};\n\n\tconst onSort = ( key, direction ) => {\n\t\tonQueryChange( 'sort' )( key, direction );\n\n\t\tconst eventProps = {\n\t\t\treport: endpoint,\n\t\t\tcolumn: key,\n\t\t\tdirection,\n\t\t};\n\n\t\trecordEvent( 'analytics_table_sort', eventProps );\n\t};\n\n\tconst filterShownHeaders = ( headers, hiddenKeys ) => {\n\t\t// If no user preferences, set visibilty based on column default.\n\t\tif ( ! hiddenKeys ) {\n\t\t\treturn headers.map( ( header ) => ( {\n\t\t\t\t...header,\n\t\t\t\tvisible: header.required || ! header.hiddenByDefault,\n\t\t\t} ) );\n\t\t}\n\n\t\t// Set visibilty based on user preferences.\n\t\treturn headers.map( ( header ) => ( {\n\t\t\t...header,\n\t\t\tvisible: header.required || ! hiddenKeys.includes( header.key ),\n\t\t} ) );\n\t};\n\n\tconst onClickDownload = () => {\n\t\tconst { createNotice, startExport, title } = props;\n\t\tconst params = Object.assign( {}, query );\n\t\tconst { data, totalResults } = items;\n\t\tlet downloadType = 'browser';\n\n\t\t// Delete unnecessary items from filename.\n\t\tdelete params.extended_info;\n\t\tif ( params.search ) {\n\t\t\tdelete params[ searchBy ];\n\t\t}\n\n\t\tif ( data && data.length === totalResults ) {\n\t\t\tdownloadCSVFile(\n\t\t\t\tgenerateCSVFileName( title, params ),\n\t\t\t\tgenerateCSVDataFromTable(\n\t\t\t\t\tgetHeadersContent(),\n\t\t\t\t\tgetRowsContent( data )\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\tdownloadType = 'email';\n\t\t\tstartExport( endpoint, reportQuery )\n\t\t\t\t.then( () =>\n\t\t\t\t\tcreateNotice(\n\t\t\t\t\t\t'success',\n\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t/* translators: %s = type of report */\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'Your %s Report will be emailed to you.',\n\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.catch( ( error ) =>\n\t\t\t\t\tcreateNotice(\n\t\t\t\t\t\t'error',\n\t\t\t\t\t\terror.message ||\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t/* translators: %s = type of report */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'There was a problem exporting your %s Report. Please try again.',\n\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\n\t\trecordEvent( 'analytics_table_download', {\n\t\t\treport: endpoint,\n\t\t\trows: totalResults,\n\t\t\tdownloadType,\n\t\t} );\n\t};\n\n\tconst onCompare = () => {\n\t\tif ( compareBy ) {\n\t\t\tonQueryChange( 'compare' )(\n\t\t\t\tcompareBy,\n\t\t\t\tcompareParam,\n\t\t\t\tselectedRows.join( ',' )\n\t\t\t);\n\t\t}\n\t};\n\n\tconst onSearchChange = ( values ) => {\n\t\tconst { baseSearchQuery } = props;\n\t\t// A comma is used as a separator between search terms, so we want to escape\n\t\t// any comma they contain.\n\t\tconst searchTerms = values.map( ( v ) =>\n\t\t\tv.label.replace( ',', '%2C' )\n\t\t);\n\t\tif ( searchTerms.length ) {\n\t\t\tupdateQueryString( {\n\t\t\t\tfilter: undefined,\n\t\t\t\t[ compareParam ]: undefined,\n\t\t\t\t[ searchBy ]: undefined,\n\t\t\t\t...baseSearchQuery,\n\t\t\t\tsearch: uniq( searchTerms ).join( ',' ),\n\t\t\t} );\n\t\t} else {\n\t\t\tupdateQueryString( {\n\t\t\t\tsearch: undefined,\n\t\t\t} );\n\t\t}\n\n\t\ttrackTableSearch();\n\t};\n\n\tconst selectAllRows = ( checked ) => {\n\t\tconst { ids } = props;\n\t\tsetSelectedRows( checked ? ids : [] );\n\t};\n\n\tconst selectRow = ( i, checked ) => {\n\t\tconst { ids } = props;\n\t\tif ( checked ) {\n\t\t\tsetSelectedRows( uniq( [ ids[ i ], ...selectedRows ] ) );\n\t\t} else {\n\t\t\tconst index = selectedRows.indexOf( ids[ i ] );\n\t\t\tsetSelectedRows( [\n\t\t\t\t...selectedRows.slice( 0, index ),\n\t\t\t\t...selectedRows.slice( index + 1 ),\n\t\t\t] );\n\t\t}\n\t};\n\n\tconst getCheckbox = ( i ) => {\n\t\tconst { ids = [] } = props;\n\t\tconst isChecked = selectedRows.indexOf( ids[ i ] ) !== -1;\n\t\treturn {\n\t\t\tdisplay: (\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tonChange={ partial( selectRow, i ) }\n\t\t\t\t\tchecked={ isChecked }\n\t\t\t\t/>\n\t\t\t),\n\t\t\tvalue: false,\n\t\t};\n\t};\n\n\tconst getAllCheckbox = () => {\n\t\tconst { ids = [] } = props;\n\t\tconst hasData = ids.length > 0;\n\t\tconst isAllChecked = hasData && ids.length === selectedRows.length;\n\t\treturn {\n\t\t\tcellClassName: 'is-checkbox-column',\n\t\t\tkey: 'compare',\n\t\t\tlabel: (\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tonChange={ selectAllRows }\n\t\t\t\t\taria-label={ __( 'Select All' ) }\n\t\t\t\t\tchecked={ isAllChecked }\n\t\t\t\t\tdisabled={ ! hasData }\n\t\t\t\t/>\n\t\t\t),\n\t\t\trequired: true,\n\t\t};\n\t};\n\n\tconst isLoading =\n\t\tisRequesting || tableData.isRequesting || primaryData.isRequesting;\n\tconst totals = get( primaryData, [ 'data', 'totals' ], {} );\n\tconst totalResults = items.totalResults;\n\tconst downloadable = totalResults > 0;\n\t// Search words are in the query string, not the table query.\n\tconst searchWords = getSearchWords( query );\n\tconst searchedLabels = searchWords.map( ( v ) => ( {\n\t\tkey: v,\n\t\tlabel: v,\n\t} ) );\n\n\t/**\n\t * Filter report table.\n\t *\n\t * Enables manipulation of data used to create a report table.\n\t *\n\t * @param {Object} reportTableData - data used to create the table.\n\t * @param {string} reportTableData.endpoint - table api endpoint.\n\t * @param {Array} reportTableData.headers - table headers data.\n\t * @param {Array} reportTableData.rows - table rows data.\n\t * @param {Object} reportTableData.totals - total aggregates for request.\n\t * @param {Array} reportTableData.summary - summary numbers data.\n\t * @param {Object} reportTableData.items - response from api requerst.\n\t */\n\tconst filteredTableProps = applyFilters( TABLE_FILTER, {\n\t\tendpoint,\n\t\theaders: getHeadersContent(),\n\t\trows: getRowsContent( items.data ),\n\t\ttotals,\n\t\tsummary: getSummary ? getSummary( totals, totalResults ) : null,\n\t\titems,\n\t} );\n\tlet { headers, rows } = filteredTableProps;\n\tconst { summary } = filteredTableProps;\n\n\tconst onColumnsChange = ( shownColumns, toggledColumn ) => {\n\t\tconst columns = headers.map( ( header ) => header.key );\n\t\tconst hiddenColumns = columns.filter(\n\t\t\t( column ) => ! shownColumns.includes( column )\n\t\t);\n\t\tif ( columnPrefsKey ) {\n\t\t\tconst userDataFields = {\n\t\t\t\t[ columnPrefsKey ]: hiddenColumns,\n\t\t\t};\n\t\t\tupdateUserPreferences( userDataFields );\n\t\t}\n\n\t\tif ( toggledColumn ) {\n\t\t\tconst eventProps = {\n\t\t\t\treport: endpoint,\n\t\t\t\tcolumn: toggledColumn,\n\t\t\t\tstatus: shownColumns.includes( toggledColumn ) ? 'on' : 'off',\n\t\t\t};\n\n\t\t\trecordEvent( 'analytics_table_header_toggle', eventProps );\n\t\t}\n\t};\n\n\t// Add in selection for comparisons.\n\tif ( compareBy ) {\n\t\trows = rows.map( ( row, i ) => {\n\t\t\treturn [ getCheckbox( i ), ...row ];\n\t\t} );\n\t\theaders = [ getAllCheckbox(), ...headers ];\n\t}\n\n\t// Hide any headers based on user prefs, if loaded.\n\tconst filteredHeaders = filterShownHeaders( headers, userPrefColumns );\n\tconst className = classnames( 'woocommerce-report-table', {\n\t\t'has-compare': !! compareBy,\n\t\t'has-search': !! searchBy,\n\t} );\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div\n\t\t\t\tclassName=\"woocommerce-report-table__scroll-point\"\n\t\t\t\tref={ scrollPointRef }\n\t\t\t\taria-hidden\n\t\t\t/>\n\t\t\t<TableCard\n\t\t\t\tclassName={ className }\n\t\t\t\tactions={ [\n\t\t\t\t\tcompareBy && (\n\t\t\t\t\t\t<CompareButton\n\t\t\t\t\t\t\tkey=\"compare\"\n\t\t\t\t\t\t\tclassName=\"woocommerce-table__compare\"\n\t\t\t\t\t\t\tcount={ selectedRows.length }\n\t\t\t\t\t\t\thelpText={\n\t\t\t\t\t\t\t\tlabels.helpText ||\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Check at least two items below to compare',\n\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={ onCompare }\n\t\t\t\t\t\t\tdisabled={ ! downloadable }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ labels.compareButton ||\n\t\t\t\t\t\t\t\t__( 'Compare', 'woocommerce-admin' ) }\n\t\t\t\t\t\t</CompareButton>\n\t\t\t\t\t),\n\t\t\t\t\tsearchBy && (\n\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\tallowFreeTextSearch={ true }\n\t\t\t\t\t\t\tinlineTags\n\t\t\t\t\t\t\tkey=\"search\"\n\t\t\t\t\t\t\tonChange={ onSearchChange }\n\t\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t\tlabels.placeholder ||\n\t\t\t\t\t\t\t\t__( 'Search by item name', 'woocommerce-admin' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tselected={ searchedLabels }\n\t\t\t\t\t\t\tshowClearButton={ true }\n\t\t\t\t\t\t\ttype={ searchBy }\n\t\t\t\t\t\t\tdisabled={ ! downloadable }\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tdownloadable && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey=\"download\"\n\t\t\t\t\t\t\tclassName=\"woocommerce-table__download-button\"\n\t\t\t\t\t\t\tdisabled={ isLoading }\n\t\t\t\t\t\t\tonClick={ onClickDownload }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<DownloadIcon />\n\t\t\t\t\t\t\t<span className=\"woocommerce-table__download-button__label\">\n\t\t\t\t\t\t\t\t{ labels.downloadButton ||\n\t\t\t\t\t\t\t\t\t__( 'Download', 'woocommerce-admin' ) }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t),\n\t\t\t\t] }\n\t\t\t\theaders={ filteredHeaders }\n\t\t\t\tisLoading={ isLoading }\n\t\t\t\tonQueryChange={ onQueryChange }\n\t\t\t\tonColumnsChange={ onColumnsChange }\n\t\t\t\tonSort={ onSort }\n\t\t\t\tonPageChange={ onPageChange }\n\t\t\t\trows={ rows }\n\t\t\t\trowsPerPage={\n\t\t\t\t\tparseInt( reportQuery.per_page, 10 ) ||\n\t\t\t\t\tQUERY_DEFAULTS.pageSize\n\t\t\t\t}\n\t\t\t\tsummary={ summary }\n\t\t\t\ttotalRows={ totalResults }\n\t\t\t\t{ ...tableProps }\n\t\t\t/>\n\t\t</Fragment>\n\t);\n};\n\nReportTable.propTypes = {\n\t/**\n\t * Pass in query parameters to be included in the path when onSearch creates a new url.\n\t */\n\tbaseSearchQuery: PropTypes.object,\n\t/**\n\t * The string to use as a query parameter when comparing row items.\n\t */\n\tcompareBy: PropTypes.string,\n\t/**\n\t * Url query parameter compare function operates on\n\t */\n\tcompareParam: PropTypes.string,\n\t/**\n\t * The key for user preferences settings for column visibility.\n\t */\n\tcolumnPrefsKey: PropTypes.string,\n\t/**\n\t * The endpoint to use in API calls to populate the table rows and summary.\n\t * For example, if `taxes` is provided, data will be fetched from the report\n\t * `taxes` endpoint (ie: `/wc-analytics/reports/taxes` and `/wc/v4/reports/taxes/stats`).\n\t * If the provided endpoint doesn't exist, an error will be shown to the user\n\t * with `ReportError`.\n\t */\n\tendpoint: PropTypes.string,\n\t/**\n\t * Name of the methods available via `select` that will be used to\n\t * load more data for table items. If omitted, no call will be made and only\n\t * the data returned by the reports endpoint will be used.\n\t */\n\textendItemsMethodNames: PropTypes.shape( {\n\t\tgetError: PropTypes.string,\n\t\tisRequesting: PropTypes.string,\n\t\tload: PropTypes.string,\n\t} ),\n\t/**\n\t * Name of store on which extendItemsMethodNames can be found.\n\t */\n\textendedItemsStoreName: PropTypes.string,\n\t/**\n\t * A function that returns the headers object to build the table.\n\t */\n\tgetHeadersContent: PropTypes.func.isRequired,\n\t/**\n\t * A function that returns the rows array to build the table.\n\t */\n\tgetRowsContent: PropTypes.func.isRequired,\n\t/**\n\t * A function that returns the summary object to build the table.\n\t */\n\tgetSummary: PropTypes.func,\n\t/**\n\t * The name of the property in the item object which contains the id.\n\t */\n\titemIdField: PropTypes.string,\n\t/**\n\t * Custom labels for table header actions.\n\t */\n\tlabels: PropTypes.shape( {\n\t\tcompareButton: PropTypes.string,\n\t\tdownloadButton: PropTypes.string,\n\t\thelpText: PropTypes.string,\n\t\tplaceholder: PropTypes.string,\n\t} ),\n\t/**\n\t * Primary data of that report. If it's not provided, it will be automatically\n\t * loaded via the provided `endpoint`.\n\t */\n\tprimaryData: PropTypes.object,\n\t/**\n\t * The string to use as a query parameter when searching row items.\n\t */\n\tsearchBy: PropTypes.string,\n\t/**\n\t * List of fields used for summary numbers. (Reduces queries)\n\t */\n\tsummaryFields: PropTypes.arrayOf( PropTypes.string ),\n\t/**\n\t * Table data of that report. If it's not provided, it will be automatically\n\t * loaded via the provided `endpoint`.\n\t */\n\ttableData: PropTypes.object.isRequired,\n\t/**\n\t * Properties to be added to the query sent to the report table endpoint.\n\t */\n\ttableQuery: PropTypes.object,\n\t/**\n\t * String to display as the title of the table.\n\t */\n\ttitle: PropTypes.string.isRequired,\n};\n\nReportTable.defaultProps = {\n\tprimaryData: {},\n\ttableData: {\n\t\titems: {\n\t\t\tdata: [],\n\t\t\ttotalResults: 0,\n\t\t},\n\t\tquery: {},\n\t},\n\ttableQuery: {},\n\tcompareParam: 'filter',\n\tdownloadable: false,\n\tonSearch: noop,\n\tbaseSearchQuery: {},\n};\n\nexport default compose(\n\twithSelect( ( select, props ) => {\n\t\tconst {\n\t\t\tendpoint,\n\t\t\tgetSummary,\n\t\t\tisRequesting,\n\t\t\titemIdField,\n\t\t\tquery,\n\t\t\ttableData,\n\t\t\ttableQuery,\n\t\t\tfilters,\n\t\t\tadvancedFilters,\n\t\t\tsummaryFields,\n\t\t} = props;\n\n\t\tif (\n\t\t\tisRequesting ||\n\t\t\t( query.search &&\n\t\t\t\t! ( query[ endpoint ] && query[ endpoint ].length ) )\n\t\t) {\n\t\t\treturn {};\n\t\t}\n\t\tconst { woocommerce_default_date_range: defaultDateRange } = select(\n\t\t\tSETTINGS_STORE_NAME\n\t\t).getSetting( 'wc_admin', 'wcAdminSettings' );\n\n\t\t// Category charts are powered by the /reports/products/stats endpoint.\n\t\tconst chartEndpoint = endpoint === 'categories' ? 'products' : endpoint;\n\t\tconst primaryData = getSummary\n\t\t\t? getReportChartData( {\n\t\t\t\t\tendpoint: chartEndpoint,\n\t\t\t\t\tdataType: 'primary',\n\t\t\t\t\tquery,\n\t\t\t\t\tselect,\n\t\t\t\t\tfilters,\n\t\t\t\t\tadvancedFilters,\n\t\t\t\t\ttableQuery,\n\t\t\t\t\tdefaultDateRange,\n\t\t\t\t\tfields: summaryFields,\n\t\t\t  } )\n\t\t\t: {};\n\t\tconst queriedTableData =\n\t\t\ttableData ||\n\t\t\tgetReportTableData( {\n\t\t\t\tendpoint,\n\t\t\t\tquery,\n\t\t\t\tselect,\n\t\t\t\ttableQuery,\n\t\t\t\tfilters,\n\t\t\t\tadvancedFilters,\n\t\t\t\tdefaultDateRange,\n\t\t\t} );\n\t\tconst extendedTableData = extendTableData(\n\t\t\tselect,\n\t\t\tprops,\n\t\t\tqueriedTableData\n\t\t);\n\n\t\treturn {\n\t\t\tprimaryData,\n\t\t\tids:\n\t\t\t\titemIdField && extendedTableData.items.data\n\t\t\t\t\t? extendedTableData.items.data.map(\n\t\t\t\t\t\t\t( item ) => item[ itemIdField ]\n\t\t\t\t\t  )\n\t\t\t\t\t: [],\n\t\t\ttableData: extendedTableData,\n\t\t\tquery: { ...tableQuery, ...query },\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { startExport } = dispatch( EXPORT_STORE_NAME );\n\t\tconst { createNotice } = dispatch( 'core/notices' );\n\n\t\treturn {\n\t\t\tcreateNotice,\n\t\t\tstartExport,\n\t\t};\n\t} )\n)( ReportTable );\n","// extracted by mini-css-extract-plugin","/**\n * External dependencies\n */\nimport { first } from 'lodash';\n\nexport function extendTableData( select, props, queriedTableData ) {\n\tconst {\n\t\textendItemsMethodNames,\n\t\textendedItemsStoreName,\n\t\titemIdField,\n\t} = props;\n\tconst itemsData = queriedTableData.items.data;\n\tif (\n\t\t! Array.isArray( itemsData ) ||\n\t\t! itemsData.length ||\n\t\t! extendItemsMethodNames ||\n\t\t! itemIdField\n\t) {\n\t\treturn queriedTableData;\n\t}\n\n\tconst {\n\t\t[ extendItemsMethodNames.getError ]: getErrorMethod,\n\t\t[ extendItemsMethodNames.isRequesting ]: isRequestingMethod,\n\t\t[ extendItemsMethodNames.load ]: loadMethod,\n\t} = select( extendedItemsStoreName );\n\tconst extendQuery = {\n\t\tinclude: itemsData.map( ( item ) => item[ itemIdField ] ).join( ',' ),\n\t\tper_page: itemsData.length,\n\t};\n\tconst extendedItems = loadMethod( extendQuery );\n\tconst isExtendedItemsRequesting = isRequestingMethod\n\t\t? isRequestingMethod( extendQuery )\n\t\t: false;\n\tconst isExtendedItemsError = getErrorMethod\n\t\t? getErrorMethod( extendQuery )\n\t\t: false;\n\n\tconst extendedItemsData = itemsData.map( ( item ) => {\n\t\tconst extendedItemData = first(\n\t\t\textendedItems.filter(\n\t\t\t\t( extendedItem ) => item.id === extendedItem.id\n\t\t\t)\n\t\t);\n\t\treturn {\n\t\t\t...item,\n\t\t\t...extendedItemData,\n\t\t};\n\t} );\n\n\tconst isRequesting =\n\t\tqueriedTableData.isRequesting || isExtendedItemsRequesting;\n\tconst isError = queriedTableData.isError || isExtendedItemsError;\n\n\treturn {\n\t\t...queriedTableData,\n\t\tisRequesting,\n\t\tisError,\n\t\titems: {\n\t\t\t...queriedTableData.items,\n\t\t\tdata: extendedItemsData,\n\t\t},\n\t};\n}\n","/**\n * External dependencies\n */\nimport { createContext } from '@wordpress/element';\nimport { applyFilters } from '@wordpress/hooks';\nimport CurrencyFactory from '@woocommerce/currency';\nimport { CURRENCY } from '@woocommerce/wc-admin-settings';\n\nconst appCurrency = CurrencyFactory( CURRENCY );\n\nexport const getFilteredCurrencyInstance = ( query ) => {\n\tconst config = appCurrency.getCurrencyConfig();\n\tconst filteredConfig = applyFilters(\n\t\t'woocommerce_admin_report_currency',\n\t\tconfig,\n\t\tquery\n\t);\n\treturn CurrencyFactory( filteredConfig );\n};\n\nexport const CurrencyContext = createContext(\n\tappCurrency // default value\n);\n"],"sourceRoot":""}